<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="en">
<head>
  <meta content="text/html; charset=UTF-8" http-equiv="content-type">
  <title>pyFormex Examples Page</title>
  <meta content="Benedict Verhegghe" name="author">
</head>
<body style="background-color: rgb(204, 204, 204);">
<h1><a href="http://pyformex.berlios.de/"><img src="pyformex_logo.png"
 alt="pyFormex" border="0"></a>
<img src="scallop_dome_small.png" alt="scallop_dome" border="0"></h1>
<table align="center" cellpadding="0" cellspacing="0" width="100%">
  <tbody>
    <tr bgcolor="#99a9c0">
      <td colspan="3" rowspan="1"
 style="color: rgb(255, 255, 255); font-size: 12px;" align="center"
 height="25" valign="middle" width="0"><big> <a
 href="http://developer.berlios.de/projects/pyformex/">Summary</a>
| <a href="http://developer.berlios.de/forum/?group_id=2717">Forums</a>
| <a
 href="http://developer.berlios.de/project/filelist.php?group_id=2717">Download</a>
| <a href="http://developer.berlios.de/mail/?group_id=2717">Mailing
lists</a> | <a href="http://developer.berlios.de/svn/?group_id=2717">SVN</a>
| <a href="http://developer.berlios.de/bugs/?group_id=2717">Report
bugs</a> </big></td>
    </tr>
  </tbody>
</table>
<h1>Examples</h1>
<table align="left" width="100%">
  <tbody>
    <tr valign="top">
      <td>
      <h3>Hyparcap</h3>
      </td>
    </tr>
    <tr valign="top">
      <td>A space frame in the form of a five-pointed star of hypars.<br>
      <img src="Hyparcap.png" alt="Hyparcap" border="0"> </td>
      <td></td>
    </tr>
    <tr valign="top">
      <td>
      <h3>SpaceTrussRoof</h3>
      </td>
    </tr>
    <tr valign="top">
      <td>A space truss used for the roof of an industrial building. Click on the picture to view a large size animated gif.<br><a href="roof-movie.gif">
      <img src="SpaceTrussRoof.png" alt="SpaceTrussRoof" border="0"></a> </td>
      <td></td>
    </tr>
    <tr valign="top">
      <td>
      <h3>Wire Stent</h3>
      </td>
    </tr>
    <tr valign="top">
      <td>A single layered (top) and a double layered (bottom) wire stent. Both are generated by the script on the right.<br>
      <img src="WireStent.png" alt="WireStent" border="0"></td>
      <td><pre>
#!/usr/bin/env pyfromex
class WireStent:
    def __init__(self,r,l,nx,ny,nb,dz,connectors=True):
        dz = 0.5*dz
        bump_z=lambda x: 1.-(x/nb)**2
        base = Formex(pattern('1')).replic(nb,1.0).bump1(2,[0.,0.,dz],bump_z,0)
        base = base.scale([1./nb,1./nb,1.])
        NE = base.shear(1,0,1.)
        SE = base.reflect(2).shear(1,0,-1.)
        NE.setProp(1)
        SE.setProp(3)
        cell1 = (NE+SE).rosette(2,180)
        if connectors:
            cell1 += Formex([[NE[0][0],SE[0][0]]],2)
        cell2 = cell1.reflect(2)
        cell1 = cell1.translate([1.,1.,0.])
        cell2 = cell2.translate([-1.,-1.,0.])
        dx = 4.
        dy = 4.
        F = (cell1+cell2).replic2(nx,ny,dx,dy)
        F = F.translate([0.,0.,r])
        self.F = cylindrical(dir=[2,0,1],scale=[1.,360./(nx*dx),l/ny/dy])
    def all(self):
        return self.F

clear()
F = WireStent(10.,200.,12,12,4,1.).all()
G = WireStent(8.,200.,12,12,4,1.).all()
draw(F)
draw(G)
draw(F.translate([0.,30.,0.]))
     
</pre></td>
    </tr>
    <tr valign="top">
      <td>
      <h3>stars</h3>
      </td>
    </tr>
    <tr valign="top">
      <td>pyFormex can also be used for other purposes. These collection of stars was generated by the script on the right.<br>
      <img src="stars.png" alt="stars" border="0"> </td>
      <td><pre>
#!/usr/bin/env pyformex
from numarray import random_array
nstars = 100 # number of stars
npoints = 7 # number of points in the star
noise = 0.3 # relative amplitude of noise
displ = nstars*0.6 # relative displacement
def star(n,noise=0.,prop=0):
    m = n/2
    f = Formex([[[0,1]]]).rosette(n,m*360./n).data()
    if noise != 0.:
        f = f + noise * random_array.random(f.shape)
    P = Formex(concatenate([f,f[:1]]))
    return Formex.connect([P,P],bias=[0,1]).setProp(prop)
Stars = Formex.concatenate( \
    [ star(npoints,noise,i).translate(displ*random_array.random((3,))) \
      for i in range(nstars) ])
clear()
draw(Stars)
</pre></td>
    </tr>
    <tr valign="top">
      <td>
      <h3>Geodesic Dome</h3>
      </td>
    </tr>
    <tr valign="top">
      <td colspan="2">
      <table align="left" width="50%">
        <tbody>
          <tr valign="top">
            <td colspan="2">This
example illustrates the use of surface
elements. It shows four steps in the creation of a geodesic dome.</td>
          </tr>
          <tr valign="middle">
            <td><img src="Geodesic-1.png" alt="Geodesic-1" border="0">
            </td>
            <td>First we create
two triangles. We give them different colors so that
they are easy to distinguish.
            <pre>v=0.5*sqrt(3.)<br>a = Formex([[[0,0],[1,0],[0.5,v]]],1)<br>aa = Formex([[[1,0],[1.5,v],[0.5,v]]],2)<br></pre>
            </td>
          </tr>
          <tr valign="middle">
            <td><img src="Geodesic-2.png" alt="Geodesic-2" border="0">
            </td>
            <td>Next we copy the
triangles a number of times in two
directions, generating the triangular pattern at the left.
            <pre>m=5; n=5;<br>d = a.genid(m,n,1,v,0.5,-1)<br>dd = aa.genid(m-1,n-1,1,v,0.5,-1)<br></pre>
            </td>
          </tr>
          <tr valign="middle">
            <td><img src="Geodesic-3.png" alt="Geodesic-3" border="0">
            </td>
            <td>Then we
copy-rotate the pattern into a hexagon.
            <pre>e = (d+dd).rosad(m*0.5,n*v,6,60)<br></pre>
            </td>
          </tr>
          <tr valign="middle">
            <td><img src="Geodesic-4.png" alt="Geodesic-4" border="0">
            </td>
            <td>Lastly the pattern
is mapped on a sphere, resulting in
a geodetic dome from which we give a perspective view.
            <pre>f = e.mapd(2,lambda d:sqrt(5.1**2-d**2),e.center(),[0,1])<br></pre>
            </td>
          </tr>
        </tbody>
      </table>
      </td>
    </tr>
  </tbody>
</table>
More examples are included in the pyFormex distribution
<hr><a href="http://developer.berlios.de" title="BerliOS Developer"><img
 src="http://developer.berlios.de/bslogo.php?group_id=2717"
 alt="BerliOS Developer Logo" border="0" height="32" width="124"></a>
<address></address>
<!-- Created: Fri Dec 10 18:40:53 CET 2004 --><!-- hhmts start -->
Last modified: Sun Dec  4 18:23:01 CET 2005
<!-- hhmts end -->
</body>
</html>
