<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>21. viewport — Interactive OpenGL Canvas embedded in a Qt4 widget. &mdash; pyFormex v0.8.2 documentation</title>
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.8.2',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="top" title="pyFormex v0.8.2 documentation" href="../index.html" />
    <link rel="up" title="pyFormex reference manual" href="../refman.html" />
    <link rel="next" title="22. camera — OpenGL camera handling" href="camera.html" />
    <link rel="prev" title="20. canvas — This implements an OpenGL drawing widget for painting 3D scenes." href="canvas.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../modindex.html" title="Global Module Index"
             accesskey="M">modules</a> |</li>
        <li class="right" >
          <a href="camera.html" title="22. camera — OpenGL camera handling"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="canvas.html" title="20. canvas — This implements an OpenGL drawing widget for painting 3D scenes."
             accesskey="P">previous</a> |</li>
    <li><a href="http://pyformex.org/">pyFormex Home</a> &gt;</li>
    
        <li><a href="../index.html">pyFormex Documentation</a> &gt;</li>

          <li><a href="../refman.html" accesskey="U">pyFormex reference manual</a> &gt;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-viewport">
<span id="sec-ref-viewport"></span><h1>21. <tt class="xref docutils literal"><span class="pre">viewport</span></tt> &#8212; Interactive OpenGL Canvas embedded in a Qt4 widget.<a class="headerlink" href="#module-viewport" title="Permalink to this headline">¶</a></h1>
<p>Interactive OpenGL Canvas embedded in a Qt4 widget.</p>
<p>This module implements user interaction with the OpenGL canvas defined in
module <a title="This implements an OpenGL drawing widget for painting 3D scenes." class="reference external" href="canvas.html#module-canvas"><tt class="xref docutils literal"><span class="pre">canvas</span></tt></a>.
<cite>QtCanvas</cite> is a single interactive OpenGL canvas, while <cite>MultiCanvas</cite>
implements a dynamic array of multiple canvases.</p>
<dl class="class">
<dt id="viewport.CursorShapeHandler">
<em class="property">class </em><tt class="descclassname">viewport.</tt><tt class="descname">CursorShapeHandler</tt><big>(</big><em>widget</em><big>)</big><a class="headerlink" href="#viewport.CursorShapeHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>A class for handling the mouse cursor shape on the Canvas.</p>
<p class="rubric">Methods</p>
<p>Create a CursorHandler for the specified widget.</p>
<p class="rubric">Methods</p>
<p>CursorShapeHandler objects have the following methods:</p>
<dl class="method">
<dt id="viewport.CursorShapeHandler.setCursorShape">
<tt class="descname">setCursorShape</tt><big>(</big><em>shape</em><big>)</big><a class="headerlink" href="#viewport.CursorShapeHandler.setCursorShape" title="Permalink to this definition">¶</a></dt>
<dd>Set the cursor shape to shape</dd></dl>

<dl class="method">
<dt id="viewport.CursorShapeHandler.setCursorShapeFromFunc">
<tt class="descname">setCursorShapeFromFunc</tt><big>(</big><em>func</em><big>)</big><a class="headerlink" href="#viewport.CursorShapeHandler.setCursorShapeFromFunc" title="Permalink to this definition">¶</a></dt>
<dd>Set the cursor shape to shape</dd></dl>

</dd></dl>

<dl class="class">
<dt id="viewport.CanvasMouseHandler">
<em class="property">class </em><tt class="descclassname">viewport.</tt><tt class="descname">CanvasMouseHandler</tt><a class="headerlink" href="#viewport.CanvasMouseHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>A class for handling the mouse events on the Canvas.</p>
<p class="rubric">Methods</p>
<p>CanvasMouseHandler objects have the following methods:</p>
<dl class="method">
<dt id="viewport.CanvasMouseHandler.setMouse">
<tt class="descname">setMouse</tt><big>(</big><em>button</em>, <em>func</em>, <em>mod=NONE</em><big>)</big><a class="headerlink" href="#viewport.CanvasMouseHandler.setMouse" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="viewport.CanvasMouseHandler.resetMouse">
<tt class="descname">resetMouse</tt><big>(</big><em>button</em>, <em>mod=NONE</em><big>)</big><a class="headerlink" href="#viewport.CanvasMouseHandler.resetMouse" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="viewport.CanvasMouseHandler.getMouseFunc">
<tt class="descname">getMouseFunc</tt><big>(</big><big>)</big><a class="headerlink" href="#viewport.CanvasMouseHandler.getMouseFunc" title="Permalink to this definition">¶</a></dt>
<dd>Return the mouse function bound to self.button and self.mod</dd></dl>

</dd></dl>

<dl class="class">
<dt id="viewport.QtCanvas">
<em class="property">class </em><tt class="descclassname">viewport.</tt><tt class="descname">QtCanvas</tt><big>(</big><em>*args</em><big>)</big><a class="headerlink" href="#viewport.QtCanvas" title="Permalink to this definition">¶</a></dt>
<dd><p>A canvas for OpenGL rendering.</p>
<p>This class provides interactive functionality for the OpenGL canvas
provided by the canvas.Canvas class.</p>
<p>Interactivity is highly dependent on Qt4. Putting the interactive
functions in a separate class makes it esier to use the Canvas class
in non-interactive situations or combining it with other GUI toolsets.</p>
<p class="rubric">Methods</p>
<p>Initialize an empty canvas with default settings.</p>
<p class="rubric">Methods</p>
<p>QtCanvas objects have the following methods:</p>
<dl class="method">
<dt id="viewport.QtCanvas.resetOptions">
<tt class="descname">resetOptions</tt><big>(</big><big>)</big><a class="headerlink" href="#viewport.QtCanvas.resetOptions" title="Permalink to this definition">¶</a></dt>
<dd>Reset the Drawing options to some defaults</dd></dl>

<dl class="method">
<dt id="viewport.QtCanvas.setOptions">
<tt class="descname">setOptions</tt><big>(</big><em>d</em><big>)</big><a class="headerlink" href="#viewport.QtCanvas.setOptions" title="Permalink to this definition">¶</a></dt>
<dd>Set the Drawing options to some values</dd></dl>

<dl class="method">
<dt id="viewport.QtCanvas.setCursorShape">
<tt class="descname">setCursorShape</tt><big>(</big><em>shape</em><big>)</big><a class="headerlink" href="#viewport.QtCanvas.setCursorShape" title="Permalink to this definition">¶</a></dt>
<dd>Set the cursor shape to shape</dd></dl>

<dl class="method">
<dt id="viewport.QtCanvas.setCursorShapeFromFunc">
<tt class="descname">setCursorShapeFromFunc</tt><big>(</big><em>func</em><big>)</big><a class="headerlink" href="#viewport.QtCanvas.setCursorShapeFromFunc" title="Permalink to this definition">¶</a></dt>
<dd>Set the cursor shape to shape</dd></dl>

<dl class="method">
<dt id="viewport.QtCanvas.setMouse">
<tt class="descname">setMouse</tt><big>(</big><em>button</em>, <em>func</em>, <em>mod=NONE</em><big>)</big><a class="headerlink" href="#viewport.QtCanvas.setMouse" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="viewport.QtCanvas.resetMouse">
<tt class="descname">resetMouse</tt><big>(</big><em>button</em>, <em>mod=NONE</em><big>)</big><a class="headerlink" href="#viewport.QtCanvas.resetMouse" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="viewport.QtCanvas.getMouseFunc">
<tt class="descname">getMouseFunc</tt><big>(</big><big>)</big><a class="headerlink" href="#viewport.QtCanvas.getMouseFunc" title="Permalink to this definition">¶</a></dt>
<dd>Return the mouse function bound to self.button and self.mod</dd></dl>

<dl class="method">
<dt id="viewport.QtCanvas.start_rectangle_zoom">
<tt class="descname">start_rectangle_zoom</tt><big>(</big><big>)</big><a class="headerlink" href="#viewport.QtCanvas.start_rectangle_zoom" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="viewport.QtCanvas.finish_rectangle_zoom">
<tt class="descname">finish_rectangle_zoom</tt><big>(</big><big>)</big><a class="headerlink" href="#viewport.QtCanvas.finish_rectangle_zoom" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="viewport.QtCanvas.mouse_rectangle_zoom">
<tt class="descname">mouse_rectangle_zoom</tt><big>(</big><em>x</em>, <em>y</em>, <em>action</em><big>)</big><a class="headerlink" href="#viewport.QtCanvas.mouse_rectangle_zoom" title="Permalink to this definition">¶</a></dt>
<dd><p>Process mouse events during interactive rectangle zooming.</p>
<p>On PRESS, record the mouse position.
On MOVE, create a rectangular zoom window.
On RELEASE, zoom to the picked rectangle.</p>
</dd></dl>

<dl class="method">
<dt id="viewport.QtCanvas.setPickable">
<tt class="descname">setPickable</tt><big>(</big><em>nrs=None</em><big>)</big><a class="headerlink" href="#viewport.QtCanvas.setPickable" title="Permalink to this definition">¶</a></dt>
<dd>Set the list of pickable actors</dd></dl>

<dl class="method">
<dt id="viewport.QtCanvas.start_selection">
<tt class="descname">start_selection</tt><big>(</big><em>mode</em>, <em>filtr</em><big>)</big><a class="headerlink" href="#viewport.QtCanvas.start_selection" title="Permalink to this definition">¶</a></dt>
<dd><p>Start an interactive picking mode.</p>
<p>If selection mode was already started, mode is disregarded and
this can be used to change the filter method.</p>
</dd></dl>

<dl class="method">
<dt id="viewport.QtCanvas.wait_selection">
<tt class="descname">wait_selection</tt><big>(</big><big>)</big><a class="headerlink" href="#viewport.QtCanvas.wait_selection" title="Permalink to this definition">¶</a></dt>
<dd>Wait for the user to interactively make a selection.</dd></dl>

<dl class="method">
<dt id="viewport.QtCanvas.finish_selection">
<tt class="descname">finish_selection</tt><big>(</big><big>)</big><a class="headerlink" href="#viewport.QtCanvas.finish_selection" title="Permalink to this definition">¶</a></dt>
<dd>End an interactive picking mode.</dd></dl>

<dl class="method">
<dt id="viewport.QtCanvas.accept_selection">
<tt class="descname">accept_selection</tt><big>(</big><em>clear=False</em><big>)</big><a class="headerlink" href="#viewport.QtCanvas.accept_selection" title="Permalink to this definition">¶</a></dt>
<dd><p>Accept or cancel an interactive picking mode.</p>
<p>If clear == True, the current selection is cleared.</p>
</dd></dl>

<dl class="method">
<dt id="viewport.QtCanvas.cancel_selection">
<tt class="descname">cancel_selection</tt><big>(</big><big>)</big><a class="headerlink" href="#viewport.QtCanvas.cancel_selection" title="Permalink to this definition">¶</a></dt>
<dd>Cancel an interactive picking mode and clear the selection.</dd></dl>

<dl class="method">
<dt id="viewport.QtCanvas.pick">
<tt class="descname">pick</tt><big>(</big><em>mode='actor'</em>, <em>single=False</em>, <em>func=None</em>, <em>filter=None</em><big>)</big><a class="headerlink" href="#viewport.QtCanvas.pick" title="Permalink to this definition">¶</a></dt>
<dd><p>Interactively pick objects from the viewport.</p>
<ul>
<li><p class="first"><cite>mode</cite>: defines what to pick : one of
<tt class="docutils literal"><span class="pre">['actor','element','point','number','edge']</span></tt></p>
</li>
<li><p class="first"><cite>single</cite>: if True, the function returns as soon as the user ends
a picking operation. The default is to let the user
modify his selection and only to return after an explicit
cancel (ESC or right mouse button).</p>
</li>
<li><p class="first"><cite>func</cite>: if specified, this function will be called after each
atomic pick operation. The Collection with the currently selected
objects is passed as an argument. This can e.g. be used to highlight
the selected objects during picking.</p>
</li>
<li><p class="first"><cite>filter</cite>: defines what elements to retain from the selection: one of
<tt class="docutils literal"><span class="pre">[None,'closest,'connected']</span></tt>.</p>
<ul>
<li><p class="first">None (default) will return the complete selection.</p>
</li>
<li><p class="first">&#8216;closest&#8217; will only keep the element closest to the user.</p>
</li>
<li><p class="first">&#8216;connected&#8217; will only keep elements connected to
- the closest element (set picked)
- what is already in the selection (add picked).</p>
<p>Currently this only works when picking mode is &#8216;element&#8217; and
for Actors having a partitionByConnection method.</p>
</li>
</ul>
</li>
</ul>
<p>When the picking operation is finished, the selection is returned.
The return value is always a Collection object.</p>
</dd></dl>

<dl class="method">
<dt id="viewport.QtCanvas.pickNumbers">
<tt class="descname">pickNumbers</tt><big>(</big><em>None</em><big>)</big><a class="headerlink" href="#viewport.QtCanvas.pickNumbers" title="Permalink to this definition">¶</a></dt>
<dd>Go into number picking mode and return the selection.</dd></dl>

<dl class="method">
<dt id="viewport.QtCanvas.idraw">
<tt class="descname">idraw</tt><big>(</big><em>mode='point'</em>, <em>npoints=1</em>, <em>zplane=0.</em>, <em>func=None</em>, <em>coords=None</em>, <em>preview=False</em><big>)</big><a class="headerlink" href="#viewport.QtCanvas.idraw" title="Permalink to this definition">¶</a></dt>
<dd><p>Interactively draw on the canvas.</p>
<p>This function allows the user to interactively create points in 3D
space and collects the subsequent points in a Coords object. The
interpretation of these points is left to the caller.</p>
<ul class="simple">
<li><cite>mode</cite>: one of the drawing modes, specifying the kind of objects you
want to draw. This is passed to the specified <cite>func</cite>.</li>
<li><cite>npoints</cite>: If -1, the user can create any number of points. When &gt;=0,
the function will return when the total number of points in the
collection reaches the specified value.</li>
<li><cite>zplane</cite>: the depth of the z-plane on which the 2D drawing is done.</li>
<li><cite>func</cite>: a function that is called after each atomic drawing
operation. It is typically used to draw a preview using the current
set of points. The function is passed the current Coords and the
<cite>mode</cite> as arguments.</li>
<li><cite>coords</cite>: an initial set of coordinates to which the newly created
points should be added. If specified, <cite>npoints</cite> also counts these
initial points.</li>
<li><cite>preview</cite>: <strong>Experimental</strong> If True, the preview funcion will also
be called during mouse movement with a pressed button, allowing to
preview the result before a point is created.</li>
</ul>
<p>The drawing operation is finished when the number of requested points
has been reached, or when the user clicks the right mouse button or
hits &#8216;ENTER&#8217;.
The return value is a (n,3) shaped Coords array.</p>
</dd></dl>

<dl class="method">
<dt id="viewport.QtCanvas.start_draw">
<tt class="descname">start_draw</tt><big>(</big><em>mode</em>, <em>zplane</em>, <em>coords</em><big>)</big><a class="headerlink" href="#viewport.QtCanvas.start_draw" title="Permalink to this definition">¶</a></dt>
<dd>Start an interactive drawing mode.</dd></dl>

<dl class="method">
<dt id="viewport.QtCanvas.finish_draw">
<tt class="descname">finish_draw</tt><big>(</big><big>)</big><a class="headerlink" href="#viewport.QtCanvas.finish_draw" title="Permalink to this definition">¶</a></dt>
<dd>End an interactive drawing mode.</dd></dl>

<dl class="method">
<dt id="viewport.QtCanvas.accept_draw">
<tt class="descname">accept_draw</tt><big>(</big><em>clear=False</em><big>)</big><a class="headerlink" href="#viewport.QtCanvas.accept_draw" title="Permalink to this definition">¶</a></dt>
<dd><p>Cancel an interactive drawing mode.</p>
<p>If clear == True, the current drawing is cleared.</p>
</dd></dl>

<dl class="method">
<dt id="viewport.QtCanvas.cancel_draw">
<tt class="descname">cancel_draw</tt><big>(</big><big>)</big><a class="headerlink" href="#viewport.QtCanvas.cancel_draw" title="Permalink to this definition">¶</a></dt>
<dd>Cancel an interactive drawing mode and clear the drawing.</dd></dl>

<dl class="method">
<dt id="viewport.QtCanvas.mouse_draw">
<tt class="descname">mouse_draw</tt><big>(</big><em>x</em>, <em>y</em>, <em>action</em><big>)</big><a class="headerlink" href="#viewport.QtCanvas.mouse_draw" title="Permalink to this definition">¶</a></dt>
<dd><p>Process mouse events during interactive drawing.</p>
<p>On PRESS, do nothing.
On MOVE, do nothing.
On RELEASE, add the point to the point list.</p>
</dd></dl>

<dl class="method">
<dt id="viewport.QtCanvas.start_drawing">
<tt class="descname">start_drawing</tt><big>(</big><em>mode</em><big>)</big><a class="headerlink" href="#viewport.QtCanvas.start_drawing" title="Permalink to this definition">¶</a></dt>
<dd>Start an interactive line drawing mode.</dd></dl>

<dl class="method">
<dt id="viewport.QtCanvas.wait_drawing">
<tt class="descname">wait_drawing</tt><big>(</big><big>)</big><a class="headerlink" href="#viewport.QtCanvas.wait_drawing" title="Permalink to this definition">¶</a></dt>
<dd>Wait for the user to interactively draw a line.</dd></dl>

<dl class="method">
<dt id="viewport.QtCanvas.finish_drawing">
<tt class="descname">finish_drawing</tt><big>(</big><big>)</big><a class="headerlink" href="#viewport.QtCanvas.finish_drawing" title="Permalink to this definition">¶</a></dt>
<dd>End an interactive drawing mode.</dd></dl>

<dl class="method">
<dt id="viewport.QtCanvas.accept_drawing">
<tt class="descname">accept_drawing</tt><big>(</big><em>clear=False</em><big>)</big><a class="headerlink" href="#viewport.QtCanvas.accept_drawing" title="Permalink to this definition">¶</a></dt>
<dd><p>Cancel an interactive drawing mode.</p>
<p>If clear == True, the current drawing is cleared.</p>
</dd></dl>

<dl class="method">
<dt id="viewport.QtCanvas.cancel_drawing">
<tt class="descname">cancel_drawing</tt><big>(</big><big>)</big><a class="headerlink" href="#viewport.QtCanvas.cancel_drawing" title="Permalink to this definition">¶</a></dt>
<dd>Cancel an interactive drawing mode and clear the drawing.</dd></dl>

<dl class="method">
<dt id="viewport.QtCanvas.edit_drawing">
<tt class="descname">edit_drawing</tt><big>(</big><em>mode</em><big>)</big><a class="headerlink" href="#viewport.QtCanvas.edit_drawing" title="Permalink to this definition">¶</a></dt>
<dd>Edit an interactive drawing.</dd></dl>

<dl class="method">
<dt id="viewport.QtCanvas.drawLinesInter">
<tt class="descname">drawLinesInter</tt><big>(</big><em>mode='line'</em>, <em>single=False</em>, <em>func=None</em><big>)</big><a class="headerlink" href="#viewport.QtCanvas.drawLinesInter" title="Permalink to this definition">¶</a></dt>
<dd><p>Interactively draw lines on the canvas.</p>
<ul class="simple">
<li>single: if True, the function returns as soon as the user ends
a drawing operation. The default is to let the user
draw multiple lines and only to return after an explicit
cancel (ESC or right mouse button).</li>
<li>func: if specified, this function will be called after each
atomic drawing operation. The current drawing is passed as
an argument. This can e.g. be used to show the drawing.</li>
</ul>
<p>When the drawing operation is finished, the drawing is returned.
The return value is a (n,2,2) shaped array.</p>
</dd></dl>

<dl class="method">
<dt id="viewport.QtCanvas.initializeGL">
<tt class="descname">initializeGL</tt><big>(</big><big>)</big><a class="headerlink" href="#viewport.QtCanvas.initializeGL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="viewport.QtCanvas.resizeGL">
<tt class="descname">resizeGL</tt><big>(</big><em>w</em>, <em>h</em><big>)</big><a class="headerlink" href="#viewport.QtCanvas.resizeGL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="viewport.QtCanvas.paintGL">
<tt class="descname">paintGL</tt><big>(</big><big>)</big><a class="headerlink" href="#viewport.QtCanvas.paintGL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="viewport.QtCanvas.getSize">
<tt class="descname">getSize</tt><big>(</big><big>)</big><a class="headerlink" href="#viewport.QtCanvas.getSize" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="viewport.QtCanvas.dynarot">
<tt class="descname">dynarot</tt><big>(</big><em>x</em>, <em>y</em>, <em>action</em><big>)</big><a class="headerlink" href="#viewport.QtCanvas.dynarot" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform dynamic rotation operation.</p>
<p>This function processes mouse button events controlling a dynamic
rotation operation. The action is one of PRESS, MOVE or RELEASE.</p>
</dd></dl>

<dl class="method">
<dt id="viewport.QtCanvas.dynapan">
<tt class="descname">dynapan</tt><big>(</big><em>x</em>, <em>y</em>, <em>action</em><big>)</big><a class="headerlink" href="#viewport.QtCanvas.dynapan" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform dynamic pan operation.</p>
<p>This function processes mouse button events controlling a dynamic
pan operation. The action is one of PRESS, MOVE or RELEASE.</p>
</dd></dl>

<dl class="method">
<dt id="viewport.QtCanvas.dynazoom">
<tt class="descname">dynazoom</tt><big>(</big><em>x</em>, <em>y</em>, <em>action</em><big>)</big><a class="headerlink" href="#viewport.QtCanvas.dynazoom" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform dynamic zoom operation.</p>
<p>This function processes mouse button events controlling a dynamic
zoom operation. The action is one of PRESS, MOVE or RELEASE.</p>
</dd></dl>

<dl class="method">
<dt id="viewport.QtCanvas.wheel_zoom">
<tt class="descname">wheel_zoom</tt><big>(</big><em>delta</em><big>)</big><a class="headerlink" href="#viewport.QtCanvas.wheel_zoom" title="Permalink to this definition">¶</a></dt>
<dd>Zoom by rotating a wheel over an angle delta</dd></dl>

<dl class="method">
<dt id="viewport.QtCanvas.emit_done">
<tt class="descname">emit_done</tt><big>(</big><em>x</em>, <em>y</em>, <em>action</em><big>)</big><a class="headerlink" href="#viewport.QtCanvas.emit_done" title="Permalink to this definition">¶</a></dt>
<dd><p>Emit a DONE event by clicking the mouse.</p>
<p>This is equivalent to pressing the ENTER button.</p>
</dd></dl>

<dl class="method">
<dt id="viewport.QtCanvas.emit_cancel">
<tt class="descname">emit_cancel</tt><big>(</big><em>x</em>, <em>y</em>, <em>action</em><big>)</big><a class="headerlink" href="#viewport.QtCanvas.emit_cancel" title="Permalink to this definition">¶</a></dt>
<dd><p>Emit a CANCEL event by clicking the mouse.</p>
<p>This is equivalent to pressing the ESC button.</p>
</dd></dl>

<dl class="method">
<dt id="viewport.QtCanvas.draw_state_rect">
<tt class="descname">draw_state_rect</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#viewport.QtCanvas.draw_state_rect" title="Permalink to this definition">¶</a></dt>
<dd>Store the pos and draw a rectangle to it.</dd></dl>

<dl class="method">
<dt id="viewport.QtCanvas.mouse_pick">
<tt class="descname">mouse_pick</tt><big>(</big><em>x</em>, <em>y</em>, <em>action</em><big>)</big><a class="headerlink" href="#viewport.QtCanvas.mouse_pick" title="Permalink to this definition">¶</a></dt>
<dd><p>Process mouse events during interactive picking.</p>
<p>On PRESS, record the mouse position.
On MOVE, create a rectangular picking window.
On RELEASE, pick the objects inside the rectangle.</p>
</dd></dl>

<dl class="method">
<dt id="viewport.QtCanvas.pick_actors">
<tt class="descname">pick_actors</tt><big>(</big><big>)</big><a class="headerlink" href="#viewport.QtCanvas.pick_actors" title="Permalink to this definition">¶</a></dt>
<dd>Set the list of actors inside the pick_window.</dd></dl>

<dl class="method">
<dt id="viewport.QtCanvas.pick_parts">
<tt class="descname">pick_parts</tt><big>(</big><em>obj_type</em>, <em>max_objects</em>, <em>store_closest=False</em><big>)</big><a class="headerlink" href="#viewport.QtCanvas.pick_parts" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the list of actor parts inside the pick_window.</p>
<p>obj_type can be &#8216;element&#8217;, &#8216;edge&#8217; or &#8216;point&#8217;
&#8216;edge&#8217; is only available for mesh type geometry
max_objects specifies the maximum number of objects</p>
<p>The picked object numbers are stored in self.picked.
If store_closest==True, the closest picked object is stored in as a
tuple ( [actor,object] ,distance) in self.picked_closest</p>
<p>A list of actors from which can be picked may be given.
If so, the resulting keys are indices in this list.
By default, the full actor list is used.</p>
</dd></dl>

<dl class="method">
<dt id="viewport.QtCanvas.pick_elements">
<tt class="descname">pick_elements</tt><big>(</big><big>)</big><a class="headerlink" href="#viewport.QtCanvas.pick_elements" title="Permalink to this definition">¶</a></dt>
<dd>Set the list of actor elements inside the pick_window.</dd></dl>

<dl class="method">
<dt id="viewport.QtCanvas.pick_points">
<tt class="descname">pick_points</tt><big>(</big><big>)</big><a class="headerlink" href="#viewport.QtCanvas.pick_points" title="Permalink to this definition">¶</a></dt>
<dd>Set the list of actor points inside the pick_window.</dd></dl>

<dl class="method">
<dt id="viewport.QtCanvas.pick_edges">
<tt class="descname">pick_edges</tt><big>(</big><big>)</big><a class="headerlink" href="#viewport.QtCanvas.pick_edges" title="Permalink to this definition">¶</a></dt>
<dd>Set the list of actor edges inside the pick_window.</dd></dl>

<dl class="method">
<dt id="viewport.QtCanvas.pick_numbers">
<tt class="descname">pick_numbers</tt><big>(</big><big>)</big><a class="headerlink" href="#viewport.QtCanvas.pick_numbers" title="Permalink to this definition">¶</a></dt>
<dd>Return the numbers inside the pick_window.</dd></dl>

<dl class="method">
<dt id="viewport.QtCanvas.draw_state_line">
<tt class="descname">draw_state_line</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#viewport.QtCanvas.draw_state_line" title="Permalink to this definition">¶</a></dt>
<dd>Store the pos and draw a line to it.</dd></dl>

<dl class="method">
<dt id="viewport.QtCanvas.mouse_draw_line">
<tt class="descname">mouse_draw_line</tt><big>(</big><em>x</em>, <em>y</em>, <em>action</em><big>)</big><a class="headerlink" href="#viewport.QtCanvas.mouse_draw_line" title="Permalink to this definition">¶</a></dt>
<dd><p>Process mouse events during interactive drawing.</p>
<p>On PRESS, record the mouse position.
On MOVE, draw a line.
On RELEASE, add the line to the drawing.</p>
</dd></dl>

<dl class="classmethod">
<dt id="viewport.QtCanvas.has_modifier">
<em class="property">classmethod </em><tt class="descname">has_modifier</tt><big>(</big><em>clas</em>, <em>e</em>, <em>mod</em><big>)</big><a class="headerlink" href="#viewport.QtCanvas.has_modifier" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="viewport.QtCanvas.mousePressEvent">
<tt class="descname">mousePressEvent</tt><big>(</big><em>e</em><big>)</big><a class="headerlink" href="#viewport.QtCanvas.mousePressEvent" title="Permalink to this definition">¶</a></dt>
<dd>Process a mouse press event.</dd></dl>

<dl class="method">
<dt id="viewport.QtCanvas.mouseMoveEvent">
<tt class="descname">mouseMoveEvent</tt><big>(</big><em>e</em><big>)</big><a class="headerlink" href="#viewport.QtCanvas.mouseMoveEvent" title="Permalink to this definition">¶</a></dt>
<dd>Process a mouse move event.</dd></dl>

<dl class="method">
<dt id="viewport.QtCanvas.mouseReleaseEvent">
<tt class="descname">mouseReleaseEvent</tt><big>(</big><em>e</em><big>)</big><a class="headerlink" href="#viewport.QtCanvas.mouseReleaseEvent" title="Permalink to this definition">¶</a></dt>
<dd>Process a mouse release event.</dd></dl>

<dl class="method">
<dt id="viewport.QtCanvas.wheelEvent">
<tt class="descname">wheelEvent</tt><big>(</big><em>e</em><big>)</big><a class="headerlink" href="#viewport.QtCanvas.wheelEvent" title="Permalink to this definition">¶</a></dt>
<dd>Process a wheel event.</dd></dl>

<dl class="method">
<dt id="viewport.QtCanvas.keyPressEvent">
<tt class="descname">keyPressEvent</tt><big>(</big><em>e</em><big>)</big><a class="headerlink" href="#viewport.QtCanvas.keyPressEvent" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="viewport.FramedGridLayout">
<em class="property">class </em><tt class="descclassname">viewport.</tt><tt class="descname">FramedGridLayout</tt><big>(</big><em>parent=None</em><big>)</big><a class="headerlink" href="#viewport.FramedGridLayout" title="Permalink to this definition">¶</a></dt>
<dd><p>A QtGui.QGridLayout where each added widget is framed.</p>
<p class="rubric">Methods</p>
<p>Initialize the multicanvas.</p>
<p class="rubric">Methods</p>
<p>FramedGridLayout objects have the following methods:</p>
<dl class="method">
<dt id="viewport.FramedGridLayout.addWidget">
<tt class="descname">addWidget</tt><big>(</big><big>)</big><a class="headerlink" href="#viewport.FramedGridLayout.addWidget" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="viewport.FramedGridLayout.removeWidget">
<tt class="descname">removeWidget</tt><big>(</big><em>w</em><big>)</big><a class="headerlink" href="#viewport.FramedGridLayout.removeWidget" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="viewport.MultiCanvas">
<em class="property">class </em><tt class="descclassname">viewport.</tt><tt class="descname">MultiCanvas</tt><big>(</big><em>parent=None</em><big>)</big><a class="headerlink" href="#viewport.MultiCanvas" title="Permalink to this definition">¶</a></dt>
<dd><p>An OpenGL canvas with multiple viewports and QT interaction.</p>
<p>The MultiCanvas implements a central QT widget containing one or more
QtCanvas widgets.</p>
<p class="rubric">Methods</p>
<p>Initialize the multicanvas.</p>
<p class="rubric">Methods</p>
<p>MultiCanvas objects have the following methods:</p>
<dl class="method">
<dt id="viewport.MultiCanvas.newView">
<tt class="descname">newView</tt><big>(</big><em>shared=None</em><big>)</big><a class="headerlink" href="#viewport.MultiCanvas.newView" title="Permalink to this definition">¶</a></dt>
<dd>Create a new viewport</dd></dl>

<dl class="method">
<dt id="viewport.MultiCanvas.addView">
<tt class="descname">addView</tt><big>(</big><big>)</big><a class="headerlink" href="#viewport.MultiCanvas.addView" title="Permalink to this definition">¶</a></dt>
<dd>Add a new viewport to the widget</dd></dl>

<dl class="method">
<dt id="viewport.MultiCanvas.setCurrent">
<tt class="descname">setCurrent</tt><big>(</big><em>canv</em><big>)</big><a class="headerlink" href="#viewport.MultiCanvas.setCurrent" title="Permalink to this definition">¶</a></dt>
<dd><p>Make the specified viewport the current  one.</p>
<p>canv can be either a viewport or viewport number.</p>
</dd></dl>

<dl class="method">
<dt id="viewport.MultiCanvas.currentView">
<tt class="descname">currentView</tt><big>(</big><big>)</big><a class="headerlink" href="#viewport.MultiCanvas.currentView" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="viewport.MultiCanvas.showWidget">
<tt class="descname">showWidget</tt><big>(</big><em>w</em><big>)</big><a class="headerlink" href="#viewport.MultiCanvas.showWidget" title="Permalink to this definition">¶</a></dt>
<dd>Show the view w</dd></dl>

<dl class="method">
<dt id="viewport.MultiCanvas.removeView">
<tt class="descname">removeView</tt><big>(</big><big>)</big><a class="headerlink" href="#viewport.MultiCanvas.removeView" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="viewport.MultiCanvas.updateAll">
<tt class="descname">updateAll</tt><big>(</big><big>)</big><a class="headerlink" href="#viewport.MultiCanvas.updateAll" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="viewport.MultiCanvas.removeAll">
<tt class="descname">removeAll</tt><big>(</big><big>)</big><a class="headerlink" href="#viewport.MultiCanvas.removeAll" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="viewport.MultiCanvas.addActor">
<tt class="descname">addActor</tt><big>(</big><em>actor</em><big>)</big><a class="headerlink" href="#viewport.MultiCanvas.addActor" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="viewport.MultiCanvas.printSettings">
<tt class="descname">printSettings</tt><big>(</big><big>)</big><a class="headerlink" href="#viewport.MultiCanvas.printSettings" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="viewport.MultiCanvas.changeLayout">
<tt class="descname">changeLayout</tt><big>(</big><em>nvps=None</em>, <em>ncols=None</em>, <em>nrows=None</em><big>)</big><a class="headerlink" href="#viewport.MultiCanvas.changeLayout" title="Permalink to this definition">¶</a></dt>
<dd><p>Lay out the viewports.</p>
<p>You can specify the number of viewports and the number of columns or
rows.</p>
<p>If a number of viewports is given, viewports will be added
or removed to match the number requested.
By default they are layed out rowwise over two columns.</p>
<p>If ncols is an int, viewports are laid out rowwise over ncols
columns and nrows is ignored. If ncols is None and nrows is an int,
viewports are laid out columnwise over nrows rows.</p>
</dd></dl>

<dl class="method">
<dt id="viewport.MultiCanvas.link">
<tt class="descname">link</tt><big>(</big><em>vp</em>, <em>to</em><big>)</big><a class="headerlink" href="#viewport.MultiCanvas.link" title="Permalink to this definition">¶</a></dt>
<dd>Link viewport vp to to</dd></dl>

</dd></dl>

<p><strong>Functions defined in the module viewport</strong></p>
<blockquote>
<dl class="function">
<dt id="viewport.dotpr">
<tt class="descclassname">viewport.</tt><tt class="descname">dotpr</tt><big>(</big><em>v</em>, <em>w</em><big>)</big><a class="headerlink" href="#viewport.dotpr" title="Permalink to this definition">¶</a></dt>
<dd>Return the dot product of vectors v and w</dd></dl>

<dl class="function">
<dt id="viewport.length">
<tt class="descclassname">viewport.</tt><tt class="descname">length</tt><big>(</big><em>v</em><big>)</big><a class="headerlink" href="#viewport.length" title="Permalink to this definition">¶</a></dt>
<dd>Return the length of the vector v</dd></dl>

<dl class="function">
<dt id="viewport.projection">
<tt class="descclassname">viewport.</tt><tt class="descname">projection</tt><big>(</big><em>v</em>, <em>w</em><big>)</big><a class="headerlink" href="#viewport.projection" title="Permalink to this definition">¶</a></dt>
<dd>Return the (signed) length of the projection of vector v on vector w.</dd></dl>

<dl class="function">
<dt id="viewport.modifierName">
<tt class="descclassname">viewport.</tt><tt class="descname">modifierName</tt><big>(</big><em>mod</em><big>)</big><a class="headerlink" href="#viewport.modifierName" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="viewport.setOpenGLFormat">
<tt class="descclassname">viewport.</tt><tt class="descname">setOpenGLFormat</tt><big>(</big><big>)</big><a class="headerlink" href="#viewport.setOpenGLFormat" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the correct OpenGL format.</p>
<p>On a correctly installed system, the default should do well.
The default OpenGL format can be changed by command line options:</p>
<div class="highlight-python"><pre>--dri   : use the Direct Rendering Infrastructure
--nodri : do not use the DRI
--alpha : enable the alpha buffer </pre>
</div>
</dd></dl>

<dl class="function">
<dt id="viewport.getOpenGLContext">
<tt class="descclassname">viewport.</tt><tt class="descname">getOpenGLContext</tt><big>(</big><big>)</big><a class="headerlink" href="#viewport.getOpenGLContext" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="viewport.OpenGLFormat">
<tt class="descclassname">viewport.</tt><tt class="descname">OpenGLFormat</tt><big>(</big><em>fmt=None</em><big>)</big><a class="headerlink" href="#viewport.OpenGLFormat" title="Permalink to this definition">¶</a></dt>
<dd>Some information about the OpenGL format.</dd></dl>

<dl class="function">
<dt id="viewport.printOpenGLContext">
<tt class="descclassname">viewport.</tt><tt class="descname">printOpenGLContext</tt><big>(</big><em>ctxt</em><big>)</big><a class="headerlink" href="#viewport.printOpenGLContext" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</blockquote>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
        <p class="logo"><a href="http://pyformex.org/">
        <img class="logo" src="../_static/pyformex_logo_small.png" alt="Logo"/>
        </a></p>
    <h3><a href="../index.html">Documentation</a></h3>
            <h4>Previous topic</h4>
            <p class="topless"><a href="canvas.html"
                                  title="previous chapter">20. <tt class="docutils literal docutils literal docutils literal"><span class="pre">canvas</span></tt> &#8212; This implements an OpenGL drawing widget for painting 3D scenes.</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="camera.html"
                                  title="next chapter">22. <tt class="docutils literal docutils literal docutils literal"><span class="pre">camera</span></tt> &#8212; OpenGL camera handling</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../_sources/ref/viewport.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../modindex.html" title="Global Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="camera.html" title="22. camera — OpenGL camera handling"
             >next</a> |</li>
        <li class="right" >
          <a href="canvas.html" title="20. canvas — This implements an OpenGL drawing widget for painting 3D scenes."
             >previous</a> |</li>
    <li><a href="http://pyformex.org/">pyFormex Home</a> &gt;</li>
    
        <li><a href="../index.html">pyFormex Documentation</a> &gt;</li>

          <li><a href="../refman.html" >pyFormex reference manual</a> &gt;</li> 
      </ul>
    </div>
    <div class="footer">
      &copy; Copyright 2009, Benedict Verhegghe.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.3.
    </div>
  </body>
</html>