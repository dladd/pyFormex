<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>4. script — Basic pyFormex script functions &mdash; pyFormex v0.8.2 documentation</title>
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.8.2',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="top" title="pyFormex v0.8.2 documentation" href="../index.html" />
    <link rel="up" title="pyFormex reference manual" href="../refman.html" />
    <link rel="next" title="5. draw — Create 3D graphical representations." href="draw.html" />
    <link rel="prev" title="3. arraytools — A collection of numerical array utilities." href="arraytools.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../modindex.html" title="Global Module Index"
             accesskey="M">modules</a> |</li>
        <li class="right" >
          <a href="draw.html" title="5. draw — Create 3D graphical representations."
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="arraytools.html" title="3. arraytools — A collection of numerical array utilities."
             accesskey="P">previous</a> |</li>
    <li><a href="http://pyformex.org/">pyFormex Home</a> &gt;</li>
    
        <li><a href="../index.html">pyFormex Documentation</a> &gt;</li>

          <li><a href="../refman.html" accesskey="U">pyFormex reference manual</a> &gt;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-script">
<span id="sec-ref-script"></span><h1>4. <tt class="xref docutils literal"><span class="pre">script</span></tt> &#8212; Basic pyFormex script functions<a class="headerlink" href="#module-script" title="Permalink to this headline">¶</a></h1>
<p>Basic pyFormex script functions</p>
<p>The <tt class="xref docutils literal"><span class="pre">script</span></tt> module provides the basic functions available
in all pyFormex scripts. These functions are available in GUI and NONGUI
applications, without the need to explicitely importing the <tt class="xref docutils literal"><span class="pre">script</span></tt>
module.</p>
<p><strong>Functions defined in the module script</strong></p>
<blockquote>
<dl class="function">
<dt id="script.Globals">
<tt class="descclassname">script.</tt><tt class="descname">Globals</tt><big>(</big><big>)</big><a class="headerlink" href="#script.Globals" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the globals that are passed to the scripts on execution.</p>
<p>This basically contains the globals defined in draw.py, colors.py,
and formex.py, as well as the globals from numpy.
It also contains the definitions put into the pyformex.PF, by
preference using the export() function.
During execution of the script, the global variable __name__ will be
set to either &#8216;draw&#8217; or &#8216;script&#8217; depending on whether the script
was executed in the &#8216;draw&#8217; module (&#8211;gui option) or the &#8216;script&#8217;
module (&#8211;nogui option).</p>
</dd></dl>

<dl class="function">
<dt id="script.export">
<tt class="descclassname">script.</tt><tt class="descname">export</tt><big>(</big><em>dic</em><big>)</big><a class="headerlink" href="#script.export" title="Permalink to this definition">¶</a></dt>
<dd>Export the variables in the given dictionary.</dd></dl>

<dl class="function">
<dt id="script.export2">
<tt class="descclassname">script.</tt><tt class="descname">export2</tt><big>(</big><em>names</em>, <em>values</em><big>)</big><a class="headerlink" href="#script.export2" title="Permalink to this definition">¶</a></dt>
<dd>Export a list of names and values.</dd></dl>

<dl class="function">
<dt id="script.forget">
<tt class="descclassname">script.</tt><tt class="descname">forget</tt><big>(</big><em>names</em><big>)</big><a class="headerlink" href="#script.forget" title="Permalink to this definition">¶</a></dt>
<dd>Remove the global variables specified in list.</dd></dl>

<dl class="function">
<dt id="script.rename">
<tt class="descclassname">script.</tt><tt class="descname">rename</tt><big>(</big><em>oldnames</em>, <em>newnames</em><big>)</big><a class="headerlink" href="#script.rename" title="Permalink to this definition">¶</a></dt>
<dd>Rename the global variables in oldnames to newnames.</dd></dl>

<dl class="function">
<dt id="script.listAll">
<tt class="descclassname">script.</tt><tt class="descname">listAll</tt><big>(</big><em>clas=None</em>, <em>like=None</em>, <em>filter=None</em>, <em>dic=None</em><big>)</big><a class="headerlink" href="#script.listAll" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all objects in dictionay that match criteria.</p>
<ul class="simple">
<li>dic: a dictionary object, defaults to pyformex.PF</li>
<li>clas: a class name: if specified, only instances of this class will be
returned</li>
<li>like: a string: if given, only object names starting with this string
will be returned</li>
<li>filter: a function taking an object name as parameter and returning True
or False. If specified, onnly objects passing the test will be returned.</li>
</ul>
<p>The return value is a list of keys from dic.</p>
</dd></dl>

<dl class="function">
<dt id="script.named">
<tt class="descclassname">script.</tt><tt class="descname">named</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#script.named" title="Permalink to this definition">¶</a></dt>
<dd>Returns the global object named name.</dd></dl>

<dl class="function">
<dt id="script.getcfg">
<tt class="descclassname">script.</tt><tt class="descname">getcfg</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#script.getcfg" title="Permalink to this definition">¶</a></dt>
<dd>Return a value from the configuration.</dd></dl>

<dl class="function">
<dt id="script.ask">
<tt class="descclassname">script.</tt><tt class="descname">ask</tt><big>(</big><em>question</em>, <em>choices=None</em>, <em>default=''</em><big>)</big><a class="headerlink" href="#script.ask" title="Permalink to this definition">¶</a></dt>
<dd><p>Ask a question and present possible answers.</p>
<p>If no choices are presented, anything will be accepted.
Else, the question is repeated until one of the choices is selected.
If a default is given and the value entered is empty, the default is
substituted.
Case is not significant, but choices are presented unchanged.
If no choices are presented, the string typed by the user is returned.
Else the return value is the lowest matching index of the users answer
in the choices list. Thus, ask(&#8216;Do you agree&#8217;,[&#8216;Y&#8217;,&#8217;n&#8217;]) will return
0 on either &#8216;y&#8217; or &#8216;Y&#8217; and 1 on either &#8216;n&#8217; or &#8216;N&#8217;.</p>
</dd></dl>

<dl class="function">
<dt id="script.ack">
<tt class="descclassname">script.</tt><tt class="descname">ack</tt><big>(</big><em>question</em><big>)</big><a class="headerlink" href="#script.ack" title="Permalink to this definition">¶</a></dt>
<dd>Show a Yes/No question and return True/False depending on answer.</dd></dl>

<dl class="function">
<dt id="script.error">
<tt class="descclassname">script.</tt><tt class="descname">error</tt><big>(</big><em>message</em><big>)</big><a class="headerlink" href="#script.error" title="Permalink to this definition">¶</a></dt>
<dd>Show an error message and wait for user acknowlegement.</dd></dl>

<dl class="function">
<dt id="script.warning">
<tt class="descclassname">script.</tt><tt class="descname">warning</tt><big>(</big><em>message</em><big>)</big><a class="headerlink" href="#script.warning" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="script.showInfo">
<tt class="descclassname">script.</tt><tt class="descname">showInfo</tt><big>(</big><em>message</em><big>)</big><a class="headerlink" href="#script.showInfo" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="script.system">
<tt class="descclassname">script.</tt><tt class="descname">system</tt><big>(</big><em>cmdline</em>, <em>result='output'</em><big>)</big><a class="headerlink" href="#script.system" title="Permalink to this definition">¶</a></dt>
<dd><p>Run a command and return its output.</p>
<p>If result == &#8216;status&#8217;, the exit status of the command is returned.
If result == &#8216;output&#8217;, the output of the command is returned.
If result == &#8216;both&#8217;, a tuple of status and output is returned.</p>
</dd></dl>

<dl class="function">
<dt id="script.playScript">
<tt class="descclassname">script.</tt><tt class="descname">playScript</tt><big>(</big><em>scr</em>, <em>name=None</em>, <em>filename=None</em>, <em>argv=</em><span class="optional">[</span><span class="optional">]</span>, <em>pye=False</em><big>)</big><a class="headerlink" href="#script.playScript" title="Permalink to this definition">¶</a></dt>
<dd><p>Play a pyformex script scr. scr should be a valid Python text.</p>
<p>There is a lock to prevent multiple scripts from being executed at the
same time. This implies that pyFormex scripts can currently not be
recurrent.
If a name is specified, set the global variable pyformex.scriptName to it
when the script is started.
If a filename is specified, set the global variable __file__ to it.</p>
<p>If step==True, an indefinite pause will be started after each line of
the script that starts with &#8216;draw&#8217;. Also (in this case), each line
(including comments) is echoed to the message board.</p>
</dd></dl>

<dl class="function">
<dt id="script.force_finish">
<tt class="descclassname">script.</tt><tt class="descname">force_finish</tt><big>(</big><big>)</big><a class="headerlink" href="#script.force_finish" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="script.step_script">
<tt class="descclassname">script.</tt><tt class="descname">step_script</tt><big>(</big><em>s</em>, <em>glob</em>, <em>paus=True</em><big>)</big><a class="headerlink" href="#script.step_script" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="script.breakpt">
<tt class="descclassname">script.</tt><tt class="descname">breakpt</tt><big>(</big><em>msg=None</em><big>)</big><a class="headerlink" href="#script.breakpt" title="Permalink to this definition">¶</a></dt>
<dd><p>Set a breakpoint where the script can be halted on a signal.</p>
<p>If an argument is specified, it will be written to the message board.</p>
<p>The exitrequested signal is usually emitted by pressing a button in the GUI.
In nongui mode the stopatbreakpt function can be called from another thread.</p>
</dd></dl>

<dl class="function">
<dt id="script.enableBreak">
<tt class="descclassname">script.</tt><tt class="descname">enableBreak</tt><big>(</big><em>mode=True</em><big>)</big><a class="headerlink" href="#script.enableBreak" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="script.stopatbreakpt">
<tt class="descclassname">script.</tt><tt class="descname">stopatbreakpt</tt><big>(</big><big>)</big><a class="headerlink" href="#script.stopatbreakpt" title="Permalink to this definition">¶</a></dt>
<dd>Set the exitrequested flag.</dd></dl>

<dl class="function">
<dt id="script.playFile">
<tt class="descclassname">script.</tt><tt class="descname">playFile</tt><big>(</big><em>fn</em>, <em>argv=</em><span class="optional">[</span><span class="optional">]</span><big>)</big><a class="headerlink" href="#script.playFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Play a formex script from file fn.</p>
<p>fn is the name of a file holding a pyFormex script.
A list of arguments can be passed. They will be available under the name
argv. This variable can be changed by the script and the resulting argv
is returned to the caller.</p>
</dd></dl>

<dl class="function">
<dt id="script.play">
<tt class="descclassname">script.</tt><tt class="descname">play</tt><big>(</big><em>fn=None</em>, <em>argv=</em><span class="optional">[</span><span class="optional">]</span>, <em>step=False</em><big>)</big><a class="headerlink" href="#script.play" title="Permalink to this definition">¶</a></dt>
<dd><p>Play the pyFormex script with filename <cite>fn</cite> or the current script file.</p>
<p>This function does nothing if no filename is passed or no current
scriptfile was set.
If arguments are given, they are passed to the script. If <cite>step</cite> is True,
the script is executed in step mode.</p>
</dd></dl>

<dl class="function">
<dt id="script.exit">
<tt class="descclassname">script.</tt><tt class="descname">exit</tt><big>(</big><em>all=False</em><big>)</big><a class="headerlink" href="#script.exit" title="Permalink to this definition">¶</a></dt>
<dd>Exit from the current script or from pyformex if no script running.</dd></dl>

<dl class="function">
<dt id="script.processArgs">
<tt class="descclassname">script.</tt><tt class="descname">processArgs</tt><big>(</big><em>args</em><big>)</big><a class="headerlink" href="#script.processArgs" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the application without gui.</p>
<p>Arguments are interpreted as names of script files, possibly interspersed
with arguments for the scripts.
Each running script should pop the required arguments from the list.</p>
</dd></dl>

<dl class="function">
<dt id="script.setPrefs">
<tt class="descclassname">script.</tt><tt class="descname">setPrefs</tt><big>(</big><em>res</em>, <em>save=False</em><big>)</big><a class="headerlink" href="#script.setPrefs" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the current settings (store) with the values in res.</p>
<p>res is a dictionary with configuration values.
The current settings will be update with the values in res.</p>
<p>If save is True, the changes will be stored to the user&#8217;s
configuration file.</p>
</dd></dl>

<dl class="function">
<dt id="script.printall">
<tt class="descclassname">script.</tt><tt class="descname">printall</tt><big>(</big><big>)</big><a class="headerlink" href="#script.printall" title="Permalink to this definition">¶</a></dt>
<dd>Print all Formices in globals()</dd></dl>

<dl class="function">
<dt id="script.printglobals">
<tt class="descclassname">script.</tt><tt class="descname">printglobals</tt><big>(</big><big>)</big><a class="headerlink" href="#script.printglobals" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="script.printglobalnames">
<tt class="descclassname">script.</tt><tt class="descname">printglobalnames</tt><big>(</big><big>)</big><a class="headerlink" href="#script.printglobalnames" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="script.printconfig">
<tt class="descclassname">script.</tt><tt class="descname">printconfig</tt><big>(</big><big>)</big><a class="headerlink" href="#script.printconfig" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="script.printdetected">
<tt class="descclassname">script.</tt><tt class="descname">printdetected</tt><big>(</big><big>)</big><a class="headerlink" href="#script.printdetected" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="script.writable">
<tt class="descclassname">script.</tt><tt class="descname">writable</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#script.writable" title="Permalink to this definition">¶</a></dt>
<dd>Returns True if the specified path is writeable</dd></dl>

<dl class="function">
<dt id="script.chdir">
<tt class="descclassname">script.</tt><tt class="descname">chdir</tt><big>(</big><em>fn</em><big>)</big><a class="headerlink" href="#script.chdir" title="Permalink to this definition">¶</a></dt>
<dd><p>Change the current working directory.</p>
<p>If fn is a directory name, the current directory is set to fn.
If fn is a file name, the current directory is set to the directory
holding fn.
In either case, the current directory is stored in the user&#8217;s preferences
for persistence between pyFormex invocations.</p>
<p>If fn does not exist, nothing is done.</p>
</dd></dl>

<dl class="function">
<dt id="script.runtime">
<tt class="descclassname">script.</tt><tt class="descname">runtime</tt><big>(</big><big>)</big><a class="headerlink" href="#script.runtime" title="Permalink to this definition">¶</a></dt>
<dd>Return the time elapsed since start of execution of the script.</dd></dl>

<dl class="function">
<dt id="script.startGui">
<tt class="descclassname">script.</tt><tt class="descname">startGui</tt><big>(</big><em>args=</em><span class="optional">[</span><span class="optional">]</span><big>)</big><a class="headerlink" href="#script.startGui" title="Permalink to this definition">¶</a></dt>
<dd>Start the gui</dd></dl>

<dl class="function">
<dt id="script.isWritable">
<tt class="descclassname">script.</tt><tt class="descname">isWritable</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#script.isWritable" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that the specified path is writeable.</p>
<p>BEWARE: this only works if the path exists!</p>
</dd></dl>

<dl class="function">
<dt id="script.checkRevision">
<tt class="descclassname">script.</tt><tt class="descname">checkRevision</tt><big>(</big><em>rev</em>, <em>comp='&gt;='</em><big>)</big><a class="headerlink" href="#script.checkRevision" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that we have the requested revision number.</p>
<p>Raises an error if the revision number of the running pyFormex does not
pass the comparison test with the given revision number.</p>
<p>rev: a positive integer.
comp: a string used in the comparison.</p>
<p>Default is to allow the specified revision and all later ones.</p>
</dd></dl>

<dl class="function">
<dt id="script.writeGeomFile">
<tt class="descclassname">script.</tt><tt class="descname">writeGeomFile</tt><big>(</big><em>filename</em>, <em>objects</em>, <em>sep=' '</em>, <em>mode='w'</em><big>)</big><a class="headerlink" href="#script.writeGeomFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Save geometric objects to a pyFormex Geometry File.</p>
<p>A pyFormex Geometry File can store multiple geometrical objects in a
native format that can be efficiently read back into pyFormex.
The format is portable over different pyFormex versions and 
even to other software.</p>
<ul class="simple">
<li><cite>filename</cite>: the name of the file to be written</li>
<li><cite>objects</cite>: a list or a dictionary. If it is a dictionary,
the objects will be saved with the key values as there names.
Objects that can not be exported to a Geometry File will be
silently ignored.</li>
<li><cite>mode</cite>: can be set to &#8216;a&#8217; to append to an existing file.</li>
<li><cite>sep</cite>: the string used to separate data. If set to an empty
string, the data will be written in binary format and the resulting file
will be smaller but less portable.</li>
</ul>
<p>Returns the number of objects written to the file.</p>
</dd></dl>

<dl class="function">
<dt id="script.readGeomFile">
<tt class="descclassname">script.</tt><tt class="descname">readGeomFile</tt><big>(</big><em>filename</em><big>)</big><a class="headerlink" href="#script.readGeomFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a pyFormex Geometry File.</p>
<p>A pyFormex Geometry File can store multiple geometrical objects in a
native format that can be efficiently read back into pyFormex.
The format is portable over different pyFormex versions and 
even to other software.</p>
<ul class="simple">
<li><cite>filename</cite>: the name of an exisiting pyFormex Geometry File.</li>
</ul>
<p>Returns a dictionary with the geometric objects read from the file.
If object names were stored in the file, they will be used as the keys.
Else, default names will be provided.</p>
</dd></dl>

</blockquote>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
        <p class="logo"><a href="http://pyformex.org/">
        <img class="logo" src="../_static/pyformex_logo_small.png" alt="Logo"/>
        </a></p>
    <h3><a href="../index.html">Documentation</a></h3>
            <h4>Previous topic</h4>
            <p class="topless"><a href="arraytools.html"
                                  title="previous chapter">3. <tt class="docutils literal docutils literal docutils literal"><span class="pre">arraytools</span></tt> &#8212; A collection of numerical array utilities.</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="draw.html"
                                  title="next chapter">5. <tt class="docutils literal docutils literal docutils literal"><span class="pre">draw</span></tt> &#8212; Create 3D graphical representations.</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../_sources/ref/script.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../modindex.html" title="Global Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="draw.html" title="5. draw — Create 3D graphical representations."
             >next</a> |</li>
        <li class="right" >
          <a href="arraytools.html" title="3. arraytools — A collection of numerical array utilities."
             >previous</a> |</li>
    <li><a href="http://pyformex.org/">pyFormex Home</a> &gt;</li>
    
        <li><a href="../index.html">pyFormex Documentation</a> &gt;</li>

          <li><a href="../refman.html" >pyFormex reference manual</a> &gt;</li> 
      </ul>
    </div>
    <div class="footer">
      &copy; Copyright 2009, Benedict Verhegghe.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.3.
    </div>
  </body>
</html>