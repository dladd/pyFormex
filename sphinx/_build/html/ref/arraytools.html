<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>3. arraytools — A collection of numerical array utilities. &mdash; pyFormex v0.8.1 documentation</title>
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.8.1',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="top" title="pyFormex v0.8.1 documentation" href="../index.html" />
    <link rel="up" title="pyFormex reference manual" href="../refman.html" />
    <link rel="next" title="4. script — Basic pyFormex script functions" href="script.html" />
    <link rel="prev" title="2. formex — Formex algebra in Python" href="formex.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../modindex.html" title="Global Module Index"
             accesskey="M">modules</a> |</li>
        <li class="right" >
          <a href="script.html" title="4. script — Basic pyFormex script functions"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="formex.html" title="2. formex — Formex algebra in Python"
             accesskey="P">previous</a> |</li>
    <li><a href="http://pyformex.org/">pyFormex Home</a> &gt;</li>
    
        <li><a href="../index.html">pyFormex Documentation</a> &gt;</li>

          <li><a href="../refman.html" accesskey="U">pyFormex reference manual</a> &gt;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-arraytools">
<span id="sec-ref-arraytools"></span><h1>3. <tt class="xref docutils literal"><span class="pre">arraytools</span></tt> &#8212; A collection of numerical array utilities.<a class="headerlink" href="#module-arraytools" title="Permalink to this headline">¶</a></h1>
<p>A collection of numerical array utilities.</p>
<p>These are general utility functions that depend only on the <tt class="xref docutils literal"><span class="pre">numpy</span></tt>
array model. All pyformex modules needing <tt class="xref docutils literal"><span class="pre">numpy</span></tt> should import
everything from this module:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">arraytools</span> <span class="kn">import</span> <span class="o">*</span> 
</pre></div>
</div>
<dl class="function">
<dt id="arraytools.niceLogSize">
<tt class="descclassname">arraytools.</tt><tt class="descname">niceLogSize</tt><big>(</big><em>f</em><big>)</big><a class="headerlink" href="#arraytools.niceLogSize" title="Permalink to this definition">¶</a></dt>
<dd>Return the smallest integer e such that 10**e &gt; abs(f).</dd></dl>

<dl class="function">
<dt id="arraytools.niceNumber">
<tt class="descclassname">arraytools.</tt><tt class="descname">niceNumber</tt><big>(</big><em>f</em>, <em>approx=floor</em><big>)</big><a class="headerlink" href="#arraytools.niceNumber" title="Permalink to this definition">¶</a></dt>
<dd>Return a nice number close to but not smaller than f.</dd></dl>

<dl class="function">
<dt id="arraytools.sind">
<tt class="descclassname">arraytools.</tt><tt class="descname">sind</tt><big>(</big><em>arg</em>, <em>angle_spec=Deg</em><big>)</big><a class="headerlink" href="#arraytools.sind" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the sin of an angle in degrees.</p>
<p>For convenience, this can also be used with an angle in radians,
by specifying <cite>angle_spec=Rad</cite>.</p>
</dd></dl>

<dl class="function">
<dt id="arraytools.cosd">
<tt class="descclassname">arraytools.</tt><tt class="descname">cosd</tt><big>(</big><em>arg</em>, <em>angle_spec=Deg</em><big>)</big><a class="headerlink" href="#arraytools.cosd" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the cos of an angle in degrees.</p>
<p>For convenience, this can also be used with an angle in radians,
by specifying <tt class="docutils literal"><span class="pre">angle_spec=Rad</span></tt>.</p>
</dd></dl>

<dl class="function">
<dt id="arraytools.tand">
<tt class="descclassname">arraytools.</tt><tt class="descname">tand</tt><big>(</big><em>arg</em>, <em>angle_spec=Deg</em><big>)</big><a class="headerlink" href="#arraytools.tand" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the tan of an angle in degrees.</p>
<p>For convenience, this can also be used with an angle in radians,
by specifying <tt class="docutils literal"><span class="pre">angle_spec=Rad</span></tt>.</p>
</dd></dl>

<dl class="function">
<dt id="arraytools.dotpr">
<tt class="descclassname">arraytools.</tt><tt class="descname">dotpr</tt><big>(</big><em>A</em>, <em>B</em>, <em>axis=-1</em><big>)</big><a class="headerlink" href="#arraytools.dotpr" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the dot product of vectors of A and B in the direction of axis.</p>
<p>The default axis is the last.</p>
</dd></dl>

<dl class="function">
<dt id="arraytools.length">
<tt class="descclassname">arraytools.</tt><tt class="descname">length</tt><big>(</big><em>A</em>, <em>axis=-1</em><big>)</big><a class="headerlink" href="#arraytools.length" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the length of the vectors of A in the direction of axis.</p>
<p>The default axis is the last.</p>
</dd></dl>

<dl class="function">
<dt id="arraytools.normalize">
<tt class="descclassname">arraytools.</tt><tt class="descname">normalize</tt><big>(</big><em>A</em>, <em>axis=-1</em><big>)</big><a class="headerlink" href="#arraytools.normalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Normalize the vectors of A in the direction of axis.</p>
<p>The default axis is the last.</p>
</dd></dl>

<dl class="function">
<dt id="arraytools.projection">
<tt class="descclassname">arraytools.</tt><tt class="descname">projection</tt><big>(</big><em>A</em>, <em>B</em>, <em>axis=-1</em><big>)</big><a class="headerlink" href="#arraytools.projection" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the (signed) length of the projection of vector of A on B.</p>
<p>The default axis is the last.</p>
</dd></dl>

<dl class="function">
<dt id="arraytools.norm">
<tt class="descclassname">arraytools.</tt><tt class="descname">norm</tt><big>(</big><em>v</em>, <em>n=2</em><big>)</big><a class="headerlink" href="#arraytools.norm" title="Permalink to this definition">¶</a></dt>
<dd><p>Return thr <cite>n</cite>-norm of the vector <cite>v</cite>.</p>
<p>Default is the quadratic norm (vector length).
<cite>n == 1</cite> returns the sum.
<tt class="docutils literal"><span class="pre">n</span> <span class="pre">&lt;=</span> <span class="pre">0</span></tt> returns the max absolute value.</p>
</dd></dl>

<dl class="function">
<dt id="arraytools.inside">
<tt class="descclassname">arraytools.</tt><tt class="descname">inside</tt><big>(</big><em>p</em>, <em>mi</em>, <em>ma</em><big>)</big><a class="headerlink" href="#arraytools.inside" title="Permalink to this definition">¶</a></dt>
<dd>Return true if point p is inside bbox defined by points mi and ma</dd></dl>

<dl class="function">
<dt id="arraytools.isClose">
<tt class="descclassname">arraytools.</tt><tt class="descname">isClose</tt><big>(</big><em>values</em>, <em>target</em>, <em>rtol=1.e-5</em>, <em>atol=1.e-8</em><big>)</big><a class="headerlink" href="#arraytools.isClose" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an array flagging the elements close to target.</p>
<p><cite>values</cite> is a float array, <cite>target</cite> is a float value.
<cite>values</cite> and <cite>target</cite> should be broadcastable to the same shape.</p>
<p>The return value is a boolean array with shape of <cite>values</cite> flagging
where the values are close to target.
Two values <cite>a</cite> and <cite>b</cite> are considered close if
<img class="math" src="../_images/math/111bff3a77cd73fc555142c0ffd7b4af849562f6.png" alt="| a - b | &lt; atol + rtol * | b |"/></p>
</dd></dl>

<dl class="function">
<dt id="arraytools.origin">
<tt class="descclassname">arraytools.</tt><tt class="descname">origin</tt><big>(</big><big>)</big><a class="headerlink" href="#arraytools.origin" title="Permalink to this definition">¶</a></dt>
<dd>Return a point with coordinates [0.,0.,0.].</dd></dl>

<dl class="function">
<dt id="arraytools.unitVector">
<tt class="descclassname">arraytools.</tt><tt class="descname">unitVector</tt><big>(</big><em>v</em><big>)</big><a class="headerlink" href="#arraytools.unitVector" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a unit vector in the direction of v.</p>
<p><cite>v</cite> is either an integer specifying one of the global axes (0,1,2),
or a 3-element array or compatible.</p>
</dd></dl>

<dl class="function">
<dt id="arraytools.rotationMatrix">
<tt class="descclassname">arraytools.</tt><tt class="descname">rotationMatrix</tt><big>(</big><em>angle</em>, <em>axis=None</em>, <em>angle_spec=Deg</em><big>)</big><a class="headerlink" href="#arraytools.rotationMatrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a rotation matrix over angle, optionally around axis.</p>
<p>The angle is specified in degrees, unless angle_spec=Rad is specified.
If axis==None (default), a 2x2 rotation matrix is returned.
Else, axis should specifying the rotation axis in a 3D world. It is either
one of 0,1,2, specifying a global axis, or a vector with 3 components
specifying an axis through the origin.
In either case a 3x3 rotation matrix is returned.
Note that:</p>
<ul class="simple">
<li>rotationMatrix(angle,[1,0,0]) == rotationMatrix(angle,0)</li>
<li>rotationMatrix(angle,[0,1,0]) == rotationMatrix(angle,1)</li>
<li>rotationMatrix(angle,[0,0,1]) == rotationMatrix(angle,2)</li>
</ul>
<p>but the latter functions calls are more efficient.
The result is returned as an array.</p>
</dd></dl>

<dl class="function">
<dt id="arraytools.rotMatrix">
<tt class="descclassname">arraytools.</tt><tt class="descname">rotMatrix</tt><big>(</big><em>u</em>, <em>w=</em><span class="optional">[</span>, <em>0.</em>, <em>0.</em>, <em>1.</em><span class="optional">]</span>, <em>n=3</em><big>)</big><a class="headerlink" href="#arraytools.rotMatrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a rotation matrix that rotates axis 0 to the given vector.</p>
<p>u is a vector representing the 
Return either a 3x3(default) or 4x4(if n==4) rotation matrix.</p>
</dd></dl>

<dl class="function">
<dt id="arraytools.growAxis">
<tt class="descclassname">arraytools.</tt><tt class="descname">growAxis</tt><big>(</big><em>a</em>, <em>size</em>, <em>axis=-1</em>, <em>fill=0</em><big>)</big><a class="headerlink" href="#arraytools.growAxis" title="Permalink to this definition">¶</a></dt>
<dd>Grow a single array axis to the given size and fill with given value.</dd></dl>

<dl class="function">
<dt id="arraytools.reverseAxis">
<tt class="descclassname">arraytools.</tt><tt class="descname">reverseAxis</tt><big>(</big><em>a</em>, <em>axis=-1</em><big>)</big><a class="headerlink" href="#arraytools.reverseAxis" title="Permalink to this definition">¶</a></dt>
<dd>Reverse the elements along axis.</dd></dl>

<dl class="function">
<dt id="arraytools.checkArray">
<tt class="descclassname">arraytools.</tt><tt class="descname">checkArray</tt><big>(</big><em>a</em>, <em>shape=None</em>, <em>kind=None</em>, <em>allow=None</em><big>)</big><a class="headerlink" href="#arraytools.checkArray" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that an array a has the correct shape and type.</p>
<p>The input <cite>a</cite> is anything that can be converted into a numpy array.
Either <cite>shape</cite> and/or <cite>kind</cite> can be specified. and will then be checked.
The dimensions where <cite>shape</cite> contains a -1 value are not checked. The
number of dimensions should match.
If <cite>kind</cite> does not match, but the value is included in <cite>allow</cite>,
conversion to the requested type is attempted.</p>
<p>Returns the array if valid; else, an error is raised.</p>
</dd></dl>

<dl class="function">
<dt id="arraytools.checkArray1D">
<tt class="descclassname">arraytools.</tt><tt class="descname">checkArray1D</tt><big>(</big><em>a</em>, <em>size=None</em>, <em>kind=None</em>, <em>allow=None</em><big>)</big><a class="headerlink" href="#arraytools.checkArray1D" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that an array a has the correct size and type.</p>
<p>Either size and or kind can be specified.
If kind does not match, but is included in allow, conversion to the
requested type is attempted.
Returns the array if valid.
Else, an error is raised.</p>
</dd></dl>

<dl class="function">
<dt id="arraytools.checkUniqueNumbers">
<tt class="descclassname">arraytools.</tt><tt class="descname">checkUniqueNumbers</tt><big>(</big><em>nrs</em>, <em>nmin=0</em>, <em>nmax=None</em>, <em>error=None</em><big>)</big><a class="headerlink" href="#arraytools.checkUniqueNumbers" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that an array contains a set of uniqe integers in range.</p>
<p>nrs is an integer array with any shape.
All integers should be unique and in the range(nmin,nmax).
Beware: this means that    nmin &lt;= i &lt; nmax  !
Default nmax is unlimited. Set nmin to None to
error is the value to return if the tests are not passed.
By default, a ValueError is raised.
On success, None is returned</p>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
        <p class="logo"><a href="http://pyformex.org/">
        <img class="logo" src="../_static/pyformex_logo.png" alt="Logo"/>
        </a></p>
    <h3><a href="../index.html">Documentation</a></h3>
            <h4>Previous topic</h4>
            <p class="topless"><a href="formex.html"
                                  title="previous chapter">2. <tt class="docutils literal"><span class="pre">formex</span></tt> &#8212; Formex algebra in Python</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="script.html"
                                  title="next chapter">4. <tt class="docutils literal"><span class="pre">script</span></tt> &#8212; Basic pyFormex script functions</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../_sources/ref/arraytools.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../modindex.html" title="Global Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="script.html" title="4. script — Basic pyFormex script functions"
             >next</a> |</li>
        <li class="right" >
          <a href="formex.html" title="2. formex — Formex algebra in Python"
             >previous</a> |</li>
    <li><a href="http://pyformex.org/">pyFormex Home</a> &gt;</li>
    
        <li><a href="../index.html">pyFormex Documentation</a> &gt;</li>

          <li><a href="../refman.html" >pyFormex reference manual</a> &gt;</li> 
      </ul>
    </div>
    <div class="footer">
      &copy; Copyright 2009, Benedict Verhegghe.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.3.
    </div>
  </body>
</html>