<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>The Canvas &mdash; pyFormex v0.8.1 documentation</title>
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.8.1',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="top" title="pyFormex v0.8.1 documentation" href="index.html" />
    <link rel="up" title="pyFormex user guide" href="user-guide.html" />
    <link rel="next" title="Assigning properties to geometry" href="properties.html" />
    <link rel="prev" title="The Graphical User Interface" href="gui.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="modindex.html" title="Global Module Index"
             accesskey="M">modules</a> |</li>
        <li class="right" >
          <a href="properties.html" title="Assigning properties to geometry"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="gui.html" title="The Graphical User Interface"
             accesskey="P">previous</a> |</li>
    <li><a href="http://pyformex.org/">pyFormex Home</a> &gt;</li>
    
        <li><a href="index.html">pyFormex Documentation</a> &gt;</li>

          <li><a href="user-guide.html" accesskey="U">pyFormex user guide</a> &gt;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="the-canvas">
<span id="cha-canvas"></span><h1>The Canvas<a class="headerlink" href="#the-canvas" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>When you have created a nice and powerful script to generate a 3D structure, you
will most likely want to visually inspect that you have indeed created that what
you intended. Usually you even will want or need to see intermediate results
before you can continue your development.  For this purpose the GUI offers a
canvas where structures can be drawn by functions called from a script and
interactively be manipulated by menus options and toolbar buttons.</p>
<p>The 3D drawing and rendering functionality is based on OpenGL. Therefore you
will need to have OpenGL available on your machine, either in hardware or
software. Hardware accelerated OpenGL will of course speed up and ease
operations.</p>
<p>The drawing canvas of actually is not a single canvas, but can be split up into
multiple viewports. They can be used individually for drawing different items,
but can also be linked together to show different views of the same scene. The
details about using multiple viewports are described in section
<a class="reference internal" href="#sec-multiple-viewports"><em>Multiple viewports</em></a>. The remainder of this chapter will treat the
canvas as if it was a single viewport.</p>
<p>distinguishes three types of items that can be drawn on the canvas: actors,
marks and decorations. The most important class are the actors: these are 3D
geometrical structures defined in the global world coordinates. The 3D scene
formed by the actors is viewed by a camera from a certain position, with a
certain orientation and lens. The result as viewed by the camera is shown on the
canvas. The scripting language and the GUI provide ample means to move the
camera and change the lens settings, allowing translation, rotation, zooming,
changing perspective. All the user needs to do to get an actor displayed with
the current camera settings, is to add that actor to the scene. There are
different types of actors available, but the most important is the FormexActor:
a graphical representation of a Formex. It is so important that there is a
special function with lots of options to create a FormexActor and add it to the
OpenGL scene. This function, draw(), will be explained in detail in the next
section.</p>
<p>The second type of canvas items, marks, differ from the actors in that only
their position in world coordinates is fixed, but not their orientation. Marks
are always drawn in the same way, irrespective of the camera settings. The
observer will always have the same view of the item, though it can (and will)
move over the canvas when the camera is changed. Marks are primarily used to
attach fixed attributes to certain points of the actors, e.g. a big dot, or a
text dispaying some identification of the point.</p>
<p>Finally, offers decorations, which are items drawn in 2D viewport coordinates
and unchangeably attached to the viewport. This can e.g. be used to display text
or color legends on the view.</p>
</div>
<div class="section" id="drawing-a-formex">
<h2>Drawing a Formex<a class="headerlink" href="#drawing-a-formex" title="Permalink to this headline">¶</a></h2>
<p>The most important action performed on the canvas is the drawing of a Formex.
This is accomplished with the draw() function. If you look at the reference page
of the <tt class="xref docutils literal"><span class="pre">draw()</span></tt> function, the number of arguments looks frightening.
However, most of these arguments have sensible default values, making the access
to drawing functionality easy even for beginners. To display your created Formex
F on the screen, a simple draw(F) will suffice in many cases.</p>
<p>If you draw several Formices with subsequent draw() commands, they will clutter
the view. You can use the clear() instruction to wipe out the screen before
drawing the next one. If you want to see them together in the same view, you can
use different colors to differentiate. Color drawing is as easy as
draw(F,color=&#8217;red&#8217;). The color specification can take various forms. It can be a
single color or an array of colors or even an array of indices in a color table.
In the latter case you use draw(F,color=indices,colormap=table) to draw the
Formex. If multiple colors are specified, each elementof the Formex will be
drawn with the corresponding color, and if the color array (or the color indices
array) has less entries than the number of elements, it is wrapped around.</p>
<p>A single color entry can be specified by a string (&#8216;red&#8217;) or by a triple of RGB
values in the range 0.0..1.0 (e.g. red is (1.0,0.0,0.0)) or a triplet of integer
values in the range 0..255 or a hexadecimal string (&#8216;#FF0000&#8217;) or generally any
of the values that can be converted by the colors.glColor() function to a
triplet of RGB values.</p>
<p>If no color is specified and your Formex has no properties, will draw it with
the current drawing color. If the Formex has properties, will use the properies
as a color index into the specified color map or a (configurable) default color
map.</p>
<p>There should be some examples here. Draw object(s) with specified settings and
direct camera to it.</p>
</div>
<div class="section" id="viewing-the-scene">
<h2>Viewing the scene<a class="headerlink" href="#viewing-the-scene" title="Permalink to this headline">¶</a></h2>
<p>Once the Formex is drawn, you can manipulate it interactively using the mouse:
you can rotate, translate and zoom with any of the methods decribed in
<a class="reference external" href="gui.html#sec-mouse-interactions"><em>Mouse interactions on the canvas</em></a>. You should understand though that these methods
do not change your Formex, but only how it is viewed by the observer.</p>
<p>Our drawing board is based on OpenGL. The whole OpenGL drawing/viewing process
can best be understood by making the comparison with the set of a movie, in
which actors appear in a 3D scene, and a camera that creates a 2D image by
looking at the scene with a certain lens from some angle and distance. Drawing a
Formex then is nothing more than making an actor appear on the scene. The OpenGL
machine will render it according to the current camera settings.</p>
<p>Viewing transformations using the mouse will only affect the camera, but not the
scene. Thus, if you move the Formex by sliding your mouse with button 3
depressed to the right, the Formex will <em>look like it is moving to the right,</em>
though it is actually not: we simply move the camera in the opposite direction.
Therefore in perspective mode, you will notice that moving the scene will not
just translate the picture: its shape will change too, because of the changing
perspective.</p>
<p>Using a camera, there are two ways of zooming: either by changing the focal
length of the lens (lens zooming) or by moving the camera towards or away from
the scene (dolly zooming). The first one will change the perspective view of the
scene, while the second one will not.</p>
<p>The easiest way to set all camera parameters for properly viewing a scene is by
justing telling the direction from which you want to look, and let the program
determine the rest of the settings itself. even goes a step further and has a
number of built in directions readily available: &#8216;top&#8217;, &#8216;bottom&#8217;, &#8216;left&#8217;,
&#8216;right&#8217;, &#8216;front&#8217;, &#8216;back&#8217; will set up the camera looking from that direction.</p>
</div>
<div class="section" id="other-canvas-items">
<h2>Other canvas items<a class="headerlink" href="#other-canvas-items" title="Permalink to this headline">¶</a></h2>
<div class="section" id="actors">
<h3>Actors<a class="headerlink" href="#actors" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="marks">
<h3>Marks<a class="headerlink" href="#marks" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="decorations">
<h3>Decorations<a class="headerlink" href="#decorations" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="multiple-viewports">
<span id="sec-multiple-viewports"></span><h2>Multiple viewports<a class="headerlink" href="#multiple-viewports" title="Permalink to this headline">¶</a></h2>
<p>Drawing in is not limited to a single canvas. You can create any number of
canvas widgets laid out in an array with given number of rows or columns. The
following functions are available for manipulating the viewports.</p>
<dl class="function">
<dt id="layout">
<tt class="descname">layout</tt><big>(</big><em>nvps=None</em>, <em>ncols=None</em>, <em>nrows=None</em><big>)</big><a class="headerlink" href="#layout" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the viewports layout. You can specify the number of viewports and the number
of columns or rows.</p>
<p>If a number of viewports is given, viewports will be added or removed to match
the number requested. By default they are layed out rowwise over two columns.</p>
<p>If ncols is an int, viewports are laid out rowwise over ncols columns and nrows
is ignored. If ncols is None and nrows is an int, viewports are laid out
columnwise over nrows rows.</p>
</dd></dl>

<dl class="function">
<dt id="addViewport">
<tt class="descname">addViewport</tt><big>(</big><big>)</big><a class="headerlink" href="#addViewport" title="Permalink to this definition">¶</a></dt>
<dd>Add a new viewport.</dd></dl>

<dl class="function">
<dt id="removeViewport">
<tt class="descname">removeViewport</tt><big>(</big><big>)</big><a class="headerlink" href="#removeViewport" title="Permalink to this definition">¶</a></dt>
<dd>Remove the last viewport.</dd></dl>

<dl class="function">
<dt id="linkViewport">
<tt class="descname">linkViewport</tt><big>(</big><em>vp</em>, <em>tovp</em><big>)</big><a class="headerlink" href="#linkViewport" title="Permalink to this definition">¶</a></dt>
<dd><p>Link viewport vp to viewport tovp.</p>
<p>Both vp and tovp should be numbers of viewports. The viewport vp will now show
the same contents as the viewport tovp.</p>
</dd></dl>

<dl class="function">
<dt id="viewport">
<tt class="descname">viewport</tt><big>(</big><em>n</em><big>)</big><a class="headerlink" href="#viewport" title="Permalink to this definition">¶</a></dt>
<dd><p>Select the current viewport. All drawing related functions will henceforth
operate on that viewport.</p>
<p>This action is also implicitly called by clicking with the mouse inside a
viewport.</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
        <p class="logo"><a href="http://pyformex.org/">
        <img class="logo" src="_static/pyformex_logo.png" alt="Logo"/>
        </a></p>
    <h3><a href="index.html">Documentation</a></h3>
            <h3><a href="index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference external" href="">The Canvas</a><ul>
<li><a class="reference external" href="#introduction">Introduction</a></li>
<li><a class="reference external" href="#drawing-a-formex">Drawing a Formex</a></li>
<li><a class="reference external" href="#viewing-the-scene">Viewing the scene</a></li>
<li><a class="reference external" href="#other-canvas-items">Other canvas items</a><ul>
<li><a class="reference external" href="#actors">Actors</a></li>
<li><a class="reference external" href="#marks">Marks</a></li>
<li><a class="reference external" href="#decorations">Decorations</a></li>
</ul>
</li>
<li><a class="reference external" href="#multiple-viewports">Multiple viewports</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="gui.html"
                                  title="previous chapter">The Graphical User Interface</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="properties.html"
                                  title="next chapter">Assigning properties to geometry</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="_sources/drawing.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="modindex.html" title="Global Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="properties.html" title="Assigning properties to geometry"
             >next</a> |</li>
        <li class="right" >
          <a href="gui.html" title="The Graphical User Interface"
             >previous</a> |</li>
    <li><a href="http://pyformex.org/">pyFormex Home</a> &gt;</li>
    
        <li><a href="index.html">pyFormex Documentation</a> &gt;</li>

          <li><a href="user-guide.html" >pyFormex user guide</a> &gt;</li> 
      </ul>
    </div>
    <div class="footer">
      &copy; Copyright 2009, Benedict Verhegghe.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.3.
    </div>
  </body>
</html>