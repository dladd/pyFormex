
<!doctype html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><title>Python: module camera</title>
</head><body bgcolor="#f0f0f8">

<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="heading">
<tr bgcolor="#7799ee">
<td valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial">&nbsp;<br><big><big><strong>camera</strong></big></big></font></td
><td align=right valign=bottom
><font color="#ffffff" face="helvetica, arial"><a href=".">index</a><br><a href="file:/home/bene/prj/pyformex/camera.py">/home/bene/prj/pyformex/camera.py</a></font></td></tr></table>
    <p><tt>camera&nbsp;0.1&nbsp;(C)&nbsp;Benedict&nbsp;Verhegghe<br>
&nbsp;<br>
This&nbsp;class&nbsp;defines&nbsp;a&nbsp;camera&nbsp;for&nbsp;OpenGL&nbsp;rendering.&nbsp;It&nbsp;lets&nbsp;you&nbsp;manipulate<br>
the&nbsp;camera&nbsp;position&nbsp;and&nbsp;viewing&nbsp;direction&nbsp;as&nbsp;well&nbsp;as&nbsp;the&nbsp;lens&nbsp;parameters.<br>
&nbsp;<br>
The&nbsp;default&nbsp;camera&nbsp;is&nbsp;at&nbsp;[0,0,1]&nbsp;and&nbsp;aims&nbsp;at&nbsp;point&nbsp;[0,0,0],&nbsp;i.e.&nbsp;looking<br>
in&nbsp;the&nbsp;-z&nbsp;direction.&nbsp;Near&nbsp;and&nbsp;far&nbsp;clipping&nbsp;planes&nbsp;are&nbsp;by&nbsp;default&nbsp;set&nbsp;to<br>
0.1,&nbsp;resp&nbsp;10&nbsp;times&nbsp;the&nbsp;camera&nbsp;distance.</tt></p>
<p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#aa55cc">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#fffff" face="helvetica, arial"><big><strong>Modules</strong></big></font></td></tr>
    
<tr><td bgcolor="#aa55cc"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><table width="100%" summary="list"><tr><td width="25%" valign=top><a href="OpenGL.GL.html">OpenGL.GL</a><br>
</td><td width="25%" valign=top><a href="OpenGL.GLU.html">OpenGL.GLU</a><br>
</td><td width="25%" valign=top><a href="math.html">math</a><br>
</td><td width="25%" valign=top><a href="sys.html">sys</a><br>
</td></tr></table></td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ee77aa">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Classes</strong></big></font></td></tr>
    
<tr><td bgcolor="#ee77aa"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl>
<dt><font face="helvetica, arial"><a href="camera.html#Camera">Camera</a>
</font></dt></dl>
 <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="Camera">class <strong>Camera</strong></a></font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt>This&nbsp;class&nbsp;defines&nbsp;a&nbsp;camera.<br>
&nbsp;<br>
Position&nbsp;(eye)&nbsp;:&nbsp;position&nbsp;of&nbsp;the&nbsp;camera<br>
Scene&nbsp;center&nbsp;(center)&nbsp;:&nbsp;the&nbsp;point&nbsp;the&nbsp;camera&nbsp;is&nbsp;looking&nbsp;at.<br>
Up&nbsp;Vector<br>
Viewing&nbsp;direction&nbsp;(rotx,roty,rotz)<br>
&nbsp;<br>
For&nbsp;enabling&nbsp;continuous&nbsp;rotations,&nbsp;it&nbsp;is&nbsp;essential&nbsp;that&nbsp;the&nbsp;camera&nbsp;angles<br>
are&nbsp;stored&nbsp;as&nbsp;such,&nbsp;and&nbsp;not&nbsp;be&nbsp;calculated&nbsp;form&nbsp;the&nbsp;camera&nbsp;position&nbsp;and<br>
center&nbsp;point,&nbsp;because&nbsp;the&nbsp;transformation&nbsp;from&nbsp;cartesian&nbsp;to&nbsp;spherical<br>
coordinates&nbsp;is&nbsp;not&nbsp;unique.<br>
Therefore&nbsp;we&nbsp;store&nbsp;the&nbsp;camera&nbsp;as&nbsp;follows:<br>
&nbsp;&nbsp;&nbsp;&nbsp;ctr&nbsp;:&nbsp;[&nbsp;x,y,z&nbsp;]&nbsp;:&nbsp;the&nbsp;reference&nbsp;point&nbsp;of&nbsp;the&nbsp;camera&nbsp;:&nbsp;this&nbsp;is&nbsp;always<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;point&nbsp;on&nbsp;the&nbsp;viewing&nbsp;axis.&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;pos&nbsp;:&nbsp;[&nbsp;long,lat,dist&nbsp;]&nbsp;:&nbsp;relative&nbsp;position&nbsp;in&nbsp;spherical&nbsp;coordinates<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;of&nbsp;the&nbsp;camera&nbsp;with&nbsp;respect&nbsp;to&nbsp;the&nbsp;center&nbsp;point.&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;twist&nbsp;:&nbsp;rotation&nbsp;angles&nbsp;around&nbsp;the&nbsp;camera's&nbsp;viewing&nbsp;axis<br>
&nbsp;<br>
Lens&nbsp;angle&nbsp;(fovy)<br>
Aspect&nbsp;ratio&nbsp;(aspect)<br>
Clip&nbsp;(front/back)<br>
Perspective/Orthogonal<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="Camera-__init__"><strong>__init__</strong></a>(self, center<font color="#909090">=[0.0, 0.0, 0.0]</font>, position<font color="#909090">=[0.0, 0.0, 1.0]</font>, twist<font color="#909090">=0.0</font>)</dt><dd><tt>Create&nbsp;a&nbsp;new&nbsp;camera&nbsp;at&nbsp;position&nbsp;(0,0,1)&nbsp;looking&nbsp;along&nbsp;the&nbsp;-z&nbsp;axis</tt></dd></dl>

<dl><dt><a name="Camera-distance"><strong>distance</strong></a>(self)</dt><dd><tt>Return&nbsp;the&nbsp;camera&nbsp;distance&nbsp;from&nbsp;the&nbsp;center.</tt></dd></dl>

<dl><dt><a name="Camera-dolly"><strong>dolly</strong></a>(self, val)</dt><dd><tt>Move&nbsp;the&nbsp;camera&nbsp;eye&nbsp;towards/away&nbsp;from&nbsp;the&nbsp;scene&nbsp;center.<br>
&nbsp;<br>
This&nbsp;has&nbsp;the&nbsp;effect&nbsp;of&nbsp;zooming.&nbsp;A&nbsp;value&nbsp;&gt;&nbsp;1&nbsp;zooms&nbsp;out,<br>
a&nbsp;value&nbsp;&lt;&nbsp;1&nbsp;zooms&nbsp;in.&nbsp;The&nbsp;resulting&nbsp;enlargement&nbsp;of&nbsp;the&nbsp;view<br>
will&nbsp;approximately&nbsp;be&nbsp;1/val.<br>
A&nbsp;zero&nbsp;value&nbsp;will&nbsp;move&nbsp;the&nbsp;camera&nbsp;to&nbsp;the&nbsp;center&nbsp;of&nbsp;the&nbsp;scene.<br>
The&nbsp;front&nbsp;and&nbsp;back&nbsp;clipping&nbsp;planes&nbsp;may&nbsp;need&nbsp;adjustment&nbsp;after<br>
a&nbsp;dolly&nbsp;operation.</tt></dd></dl>

<dl><dt><a name="Camera-getAngles"><strong>getAngles</strong></a>(self)</dt><dd><tt>Return&nbsp;the&nbsp;three&nbsp;rotation&nbsp;angles&nbsp;of&nbsp;the&nbsp;camera.</tt></dd></dl>

<dl><dt><a name="Camera-getEye"><strong>getEye</strong></a>(self)</dt><dd><tt>Return&nbsp;the&nbsp;cartesian&nbsp;coordinates&nbsp;of&nbsp;the&nbsp;camera&nbsp;(eye).</tt></dd></dl>

<dl><dt><a name="Camera-loadMatrix"><strong>loadMatrix</strong></a>(self)</dt><dd><tt>Load&nbsp;the&nbsp;camera&nbsp;transformation&nbsp;matrix.<br>
&nbsp;<br>
The&nbsp;caller&nbsp;will&nbsp;have&nbsp;to&nbsp;setup&nbsp;the&nbsp;correct&nbsp;GL&nbsp;environment&nbsp;beforehand.<br>
He&nbsp;also&nbsp;should&nbsp;make&nbsp;sure&nbsp;that&nbsp;matrix&nbsp;mode&nbsp;is&nbsp;GL_MODELVIEW.&nbsp;Since<br>
this&nbsp;is&nbsp;usually&nbsp;the&nbsp;default,&nbsp;we&nbsp;do&nbsp;not&nbsp;set&nbsp;it&nbsp;here.</tt></dd></dl>

<dl><dt><a name="Camera-loadProjection"><strong>loadProjection</strong></a>(self, force<font color="#909090">=False</font>)</dt><dd><tt>Load&nbsp;the&nbsp;projection/perspective&nbsp;matrix.<br>
&nbsp;<br>
The&nbsp;caller&nbsp;will&nbsp;have&nbsp;to&nbsp;setup&nbsp;the&nbsp;correct&nbsp;GL&nbsp;environment&nbsp;beforehand.<br>
No&nbsp;need&nbsp;to&nbsp;set&nbsp;matrix&nbsp;mode&nbsp;though.&nbsp;This&nbsp;function&nbsp;will&nbsp;switch&nbsp;to<br>
GL_PROJECTION&nbsp;mode&nbsp;before&nbsp;loading&nbsp;the&nbsp;matrix,&nbsp;and&nbsp;go&nbsp;back&nbsp;to<br>
GL_MODELVIEW&nbsp;mode&nbsp;on&nbsp;exit.<br>
&nbsp;<br>
This&nbsp;function&nbsp;does&nbsp;it&nbsp;best&nbsp;at&nbsp;autodetecting&nbsp;changes&nbsp;in&nbsp;the&nbsp;lens<br>
settings,&nbsp;and&nbsp;will&nbsp;only&nbsp;reload&nbsp;the&nbsp;matrix&nbsp;if&nbsp;such&nbsp;changes&nbsp;are<br>
detected.&nbsp;You&nbsp;can&nbsp;optionally&nbsp;force&nbsp;loading&nbsp;the&nbsp;matrix.</tt></dd></dl>

<dl><dt><a name="Camera-move"><strong>move</strong></a>(self, translation)</dt><dd><tt>Move&nbsp;the&nbsp;camera&nbsp;over&nbsp;translation&nbsp;vector&nbsp;in&nbsp;global&nbsp;coordinates.<br>
&nbsp;<br>
The&nbsp;center&nbsp;of&nbsp;the&nbsp;camera&nbsp;is&nbsp;moved&nbsp;over&nbsp;the&nbsp;specified&nbsp;translation<br>
vector.&nbsp;This&nbsp;has&nbsp;the&nbsp;effect&nbsp;of&nbsp;moving&nbsp;the&nbsp;scene&nbsp;in&nbsp;opposite&nbsp;direction.</tt></dd></dl>

<dl><dt><a name="Camera-pan"><strong>pan</strong></a>(self, val, axis<font color="#909090">=0</font>)</dt><dd><tt>Rotate&nbsp;the&nbsp;camera&nbsp;around&nbsp;axis&nbsp;through&nbsp;its&nbsp;eye.&nbsp;<br>
&nbsp;<br>
The&nbsp;camera&nbsp;is&nbsp;rotated&nbsp;around&nbsp;an&nbsp;axis&nbsp;through&nbsp;the&nbsp;eye&nbsp;point.<br>
For&nbsp;axes&nbsp;0&nbsp;and&nbsp;1,&nbsp;this&nbsp;will&nbsp;move&nbsp;the&nbsp;center,&nbsp;creating&nbsp;a&nbsp;panning<br>
effect.&nbsp;The&nbsp;default&nbsp;axis&nbsp;is&nbsp;parallel&nbsp;to&nbsp;the&nbsp;y-axis,&nbsp;resulting&nbsp;in<br>
horizontal&nbsp;panning.&nbsp;For&nbsp;vertical&nbsp;panning&nbsp;(axis=1)&nbsp;a&nbsp;convenience<br>
alias&nbsp;tilt&nbsp;is&nbsp;created.<br>
For&nbsp;axis&nbsp;=&nbsp;2&nbsp;the&nbsp;operation&nbsp;is&nbsp;equivalent&nbsp;to&nbsp;the&nbsp;rotate&nbsp;operation.</tt></dd></dl>

<dl><dt><a name="Camera-rotate"><strong>rotate</strong></a>(self, val, axis<font color="#909090">=0</font>)</dt><dd><tt>Rotate&nbsp;the&nbsp;camera&nbsp;around&nbsp;axis&nbsp;through&nbsp;the&nbsp;center.<br>
&nbsp;<br>
The&nbsp;camera&nbsp;is&nbsp;rotated&nbsp;around&nbsp;an&nbsp;axis&nbsp;through&nbsp;the&nbsp;center&nbsp;point<br>
and&nbsp;parallel&nbsp;with&nbsp;the&nbsp;y-axis.&nbsp;The&nbsp;viewing&nbsp;axis&nbsp;of&nbsp;the&nbsp;camera<br>
remains&nbsp;directed&nbsp;at&nbsp;the&nbsp;center.<br>
This&nbsp;has&nbsp;the&nbsp;effect&nbsp;of&nbsp;rotating&nbsp;the&nbsp;scene&nbsp;around&nbsp;the&nbsp;axis.<br>
A&nbsp;positive&nbsp;value&nbsp;rotates&nbsp;the&nbsp;camera&nbsp;around&nbsp;the&nbsp;pos&nbsp;y-axis.<br>
The&nbsp;value&nbsp;is&nbsp;specified&nbsp;in&nbsp;degrees.</tt></dd></dl>

<dl><dt><a name="Camera-setCenter"><strong>setCenter</strong></a>(self, x, y, z)</dt><dd><tt>Set&nbsp;thecenter&nbsp;of&nbsp;the&nbsp;camera&nbsp;in&nbsp;cartesian&nbsp;coordinates.</tt></dd></dl>

<dl><dt><a name="Camera-setClip"><strong>setClip</strong></a>(self, near, far)</dt><dd><tt>Set&nbsp;the&nbsp;near&nbsp;and&nbsp;far&nbsp;clipping&nbsp;planes</tt></dd></dl>

<dl><dt><a name="Camera-setClipRel"><strong>setClipRel</strong></a>(self, near, far)</dt><dd><tt>Set&nbsp;the&nbsp;near&nbsp;and&nbsp;far&nbsp;clipping&nbsp;planes</tt></dd></dl>

<dl><dt><a name="Camera-setDistance"><strong>setDistance</strong></a>(self, d)</dt></dl>

<dl><dt><a name="Camera-setEye"><strong>setEye</strong></a>(self, lat, long, dist)</dt><dd><tt>Set&nbsp;the&nbsp;position&nbsp;of&nbsp;the&nbsp;camera&nbsp;in&nbsp;relative&nbsp;spherical&nbsp;coordinates.<br>
&nbsp;<br>
We&nbsp;store&nbsp;the&nbsp;position&nbsp;of&nbsp;the&nbsp;camera&nbsp;in&nbsp;spherical&nbsp;coordinates,<br>
relative&nbsp;to&nbsp;the&nbsp;center.&nbsp;This&nbsp;allows&nbsp;for&nbsp;easy&nbsp;camera&nbsp;movements.<br>
Latitude&nbsp;(azimuth)&nbsp;and&nbsp;longitude&nbsp;(elevation)&nbsp;are&nbsp;in&nbsp;degrees.<br>
lat&nbsp;is&nbsp;the&nbsp;rotation&nbsp;around&nbsp;the&nbsp;y-axis,&nbsp;(0&nbsp;is&nbsp;z-axis)<br>
long&nbsp;is&nbsp;the&nbsp;rotation&nbsp;around&nbsp;the&nbsp;(rotated)&nbsp;x-axis,&nbsp;(0&nbsp;is&nbsp;x-z&nbsp;plane)<br>
dist&nbsp;is&nbsp;the&nbsp;distance&nbsp;from&nbsp;the&nbsp;center.</tt></dd></dl>

<dl><dt><a name="Camera-setLens"><strong>setLens</strong></a>(self, fovy<font color="#909090">=None</font>, aspect<font color="#909090">=None</font>)</dt><dd><tt>Set&nbsp;the&nbsp;field&nbsp;of&nbsp;view&nbsp;of&nbsp;the&nbsp;camera.<br>
&nbsp;<br>
We&nbsp;set&nbsp;the&nbsp;field&nbsp;of&nbsp;view&nbsp;by&nbsp;the&nbsp;vertical&nbsp;opening&nbsp;angle&nbsp;fovy<br>
and&nbsp;the&nbsp;aspect&nbsp;ratio&nbsp;(width/height)&nbsp;of&nbsp;the&nbsp;viewing&nbsp;volume.<br>
A&nbsp;parameter&nbsp;that&nbsp;is&nbsp;not&nbsp;specified&nbsp;is&nbsp;left&nbsp;unchanged.</tt></dd></dl>

<dl><dt><a name="Camera-setPerspective"><strong>setPerspective</strong></a>(self, on<font color="#909090">=True</font>)</dt><dd><tt>Set&nbsp;perspective&nbsp;on&nbsp;or&nbsp;off</tt></dd></dl>

<dl><dt><a name="Camera-setPos"><strong>setPos</strong></a>(self, x, y, z)</dt></dl>

<dl><dt><a name="Camera-setTwist"><strong>setTwist</strong></a>(self, t)</dt></dl>

<dl><dt><a name="Camera-tilt"><strong>tilt</strong></a>(self, val)</dt><dd><tt>Rotate&nbsp;the&nbsp;camera&nbsp;up/down&nbsp;around&nbsp;its&nbsp;own&nbsp;horizontal&nbsp;axis.<br>
&nbsp;<br>
The&nbsp;camera&nbsp;is&nbsp;rotated&nbsp;around&nbsp;and&nbsp;perpendicular&nbsp;to&nbsp;the&nbsp;plane&nbsp;of&nbsp;the<br>
y-axis&nbsp;and&nbsp;the&nbsp;viewing&nbsp;axis.&nbsp;This&nbsp;has&nbsp;the&nbsp;effect&nbsp;of&nbsp;a&nbsp;vertical&nbsp;pan.<br>
A&nbsp;positive&nbsp;value&nbsp;tilts&nbsp;the&nbsp;camera&nbsp;up,&nbsp;shifting&nbsp;the&nbsp;scene&nbsp;down.<br>
The&nbsp;value&nbsp;is&nbsp;specified&nbsp;in&nbsp;degrees.</tt></dd></dl>

<dl><dt><a name="Camera-truck"><strong>truck</strong></a>(self, translation)</dt><dd><tt>Move&nbsp;the&nbsp;camera&nbsp;translation&nbsp;vector&nbsp;in&nbsp;local&nbsp;coordinates.<br>
&nbsp;<br>
This&nbsp;has&nbsp;the&nbsp;effect&nbsp;moving&nbsp;the&nbsp;scene&nbsp;in&nbsp;opposite&nbsp;direction.<br>
Positive&nbsp;coordinates&nbsp;mean:<br>
&nbsp;&nbsp;first&nbsp;&nbsp;coordinate&nbsp;:&nbsp;truck&nbsp;right,<br>
&nbsp;&nbsp;second&nbsp;coordinate&nbsp;:&nbsp;pedestal&nbsp;up,<br>
&nbsp;&nbsp;third&nbsp;&nbsp;coordinate&nbsp;:&nbsp;dolly&nbsp;out.</tt></dd></dl>

<dl><dt><a name="Camera-zoom"><strong>zoom</strong></a>(self, val<font color="#909090">=0.5</font>)</dt><dd><tt>Zoom&nbsp;in/out&nbsp;by&nbsp;shrinking/enlarging&nbsp;the&nbsp;camera&nbsp;view&nbsp;angle.<br>
&nbsp;<br>
The&nbsp;zoom&nbsp;factor&nbsp;is&nbsp;relative&nbsp;to&nbsp;the&nbsp;current&nbsp;setting.<br>
Use&nbsp;setFovy()&nbsp;to&nbsp;specify&nbsp;an&nbsp;absolute&nbsp;setting.</tt></dd></dl>

</td></tr></table></td></tr></table>
</body></html>