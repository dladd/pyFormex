


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<!-- 
##
##  This file is part of the pyFormex project.
##  pyFormex is a tool for generating, manipulating and transforming 3D
##  geometrical models by sequences of mathematical operations.
##  Home page: http://pyformex.org
##  Project page:  http://savannah.nongnu.org/projects/pyformex/
##  Copyright (C) Benedict Verhegghe (benedict.verhegghe@ugent.be) 
##  Distributed under the GNU General Public License version 3 or later.
##
##
##  This program is free software: you can redistribute it and/or modify
##  it under the terms of the GNU General Public License as published by
##  the Free Software Foundation, either version 3 of the License, or
##  (at your option) any later version.
##
##  This program is distributed in the hope that it will be useful,
##  but WITHOUT ANY WARRANTY; without even the implied warranty of
##  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
##  GNU General Public License for more details.
##
##  You should have received a copy of the GNU General Public License
##  along with this program.  If not, see http://www.gnu.org/licenses/.
##
-->

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>11. utils — A collection of miscellaneous utility functions. &mdash; pyFormex v0.8.6 documentation</title>

    <link rel="stylesheet" href="../_static/pyformex.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.8.6',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="pyFormex v0.8.6 documentation" href="../index.html" />
    <link rel="up" title="pyFormex reference manual" href="../refman.html" />
    <link rel="next" title="12. elements — Definition of elements." href="elements.html" />
    <link rel="prev" title="10. project — project.py" href="project.html" />
<link rel="icon" type="image/png" href="_static/pyformex_fav.png" />

  </head>
  <body>

<div class="header">
  <a href="http://pyformex.org">
  <img src="http://www.nongnu.org/pyformex/_static/scallop_dome_small.png" alt="scallop dome" border="0" hspace="20" vspace="12" align="left" />
  <img src="http://www.nongnu.org/pyformex/_static/pyformex-logo-2.png" alt="pyformex logo" border="0" hspace="10" vspace="8" align="left" />
  </a>
</div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="elements.html" title="12. elements — Definition of elements."
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="project.html" title="10. project — project.py"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">pyFormex v0.8.6 documentation</a> &gt;</li>
          <li><a href="../refman.html" accesskey="U">pyFormex reference manual</a> &gt;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<div align="center">

<form action="https://www.paypal.com/cgi-bin/webscr" method="post">
<input type="hidden" name="cmd" value="_s-xclick"/>
<input type="hidden" name="hosted_button_id" value="P7J4AM4QULB4Q"/>
<input type="image" src="https://www.paypal.com/en_US/BE/i/btn/btn_donateCC_LG.gif" name="submit" alt="PayPal - The safer, easier way to pay online!"/>
<img alt="" border="0" src="https://www.paypal.com/nl_NL/i/scr/pixel.gif" width="1" height="1"/>
</form>

</div>
   

  <h4>Previous topic</h4>
  <p class="topless"><a href="project.html"
                        title="previous chapter">10. <tt class="docutils literal docutils literal docutils literal"><span class="pre">project</span></tt> &#8212; project.py</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="elements.html"
                        title="next chapter">12. <tt class="docutils literal docutils literal docutils literal"><span class="pre">elements</span></tt> &#8212; Definition of elements.</a></p>
  
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>

<div align="center">
  <p>
  <a href="http://www.fsf.org/register_form?referrer=8491"><img src="http://www.nongnu.org/pyformex/_static/fsf-member8491.png" alt="[FSF Associate Member]" width="89" height="31"  /></a>
  </p>
  <p>
    <a href="http://validator.w3.org/check?uri=referer"><img
      src="http://www.w3.org/Icons/valid-xhtml10" alt="Valid XHTML 1.0 Transitional" height="31" width="88" /></a>
  </p>
</div>

        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-utils">
<span id="utils-a-collection-of-miscellaneous-utility-functions"></span><span id="sec-ref-utils"></span><h1>11. <a class="reference internal" href="#module-utils" title="utils: A collection of miscellaneous utility functions."><tt class="xref py py-mod docutils literal"><span class="pre">utils</span></tt></a> &#8212; A collection of miscellaneous utility functions.<a class="headerlink" href="#module-utils" title="Permalink to this headline">¶</a></h1>
<p><tt class="docutils literal"><span class="pre">Classes</span> <span class="pre">defined</span> <span class="pre">in</span> <span class="pre">module</span> <span class="pre">utils</span></tt></p>
<dl class="class">
<dt id="utils.NameSequence">
<em class="property">class </em><tt class="descclassname">utils.</tt><tt class="descname">NameSequence</tt><big>(</big><em>name</em>, <em>ext=''</em><big>)</big><a class="headerlink" href="#utils.NameSequence" title="Permalink to this definition">¶</a></dt>
<dd><p>A class for autogenerating sequences of names.</p>
<p>The name is a string including a numeric part, which is incremented
at each call of the &#8216;next()&#8217; method.</p>
<p>The constructor takes name template and a possible extension as arguments.
If the name starts with a non-numeric part, it is taken as a constant
part.
If the name ends with a numeric part, the next generated names will
be obtained by incrementing this part. If not, a string &#8216;-000&#8217; will
be appended and names will be generated by incrementing this part.</p>
<p>If an extension is given, it will be appended as is to the names.
This makes it possible to put the numeric part anywhere inside the
names.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">N</span> <span class="o">=</span> <span class="n">NameSequence</span><span class="p">(</span><span class="s">&#39;hallo.98&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span> <span class="n">N</span><span class="o">.</span><span class="n">next</span><span class="p">()</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="p">]</span>
<span class="go">[&#39;hallo.98&#39;, &#39;hallo.99&#39;, &#39;hallo.100&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">NameSequence</span><span class="p">(</span><span class="s">&#39;hallo&#39;</span><span class="p">,</span><span class="s">&#39;.png&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">next</span><span class="p">()</span>
<span class="go">&#39;hallo-000.png&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">N</span> <span class="o">=</span> <span class="n">NameSequence</span><span class="p">(</span><span class="s">&#39;/home/user/hallo23&#39;</span><span class="p">,</span><span class="s">&#39;5.png&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span> <span class="n">N</span><span class="o">.</span><span class="n">next</span><span class="p">()</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="p">]</span>
<span class="go">[&#39;/home/user/hallo235.png&#39;, &#39;/home/user/hallo245.png&#39;]</span>
</pre></div>
</div>
<dl class="method">
<dt id="utils.NameSequence.next">
<tt class="descname">next</tt><big>(</big><big>)</big><a class="headerlink" href="#utils.NameSequence.next" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the next name in the sequence</p>
</dd></dl>

<dl class="method">
<dt id="utils.NameSequence.peek">
<tt class="descname">peek</tt><big>(</big><big>)</big><a class="headerlink" href="#utils.NameSequence.peek" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the next name in the sequence without incrementing.</p>
</dd></dl>

<dl class="method">
<dt id="utils.NameSequence.glob">
<tt class="descname">glob</tt><big>(</big><big>)</big><a class="headerlink" href="#utils.NameSequence.glob" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a UNIX glob pattern for the generated names.</p>
<p>A NameSequence is often used as a generator for file names.
The glob() method returns a pattern that can be used in a
UNIX-like shell command to select all the generated file names.</p>
</dd></dl>

</dd></dl>

<p><tt class="docutils literal"><span class="pre">Functions</span> <span class="pre">defined</span> <span class="pre">in</span> <span class="pre">module</span> <span class="pre">utils</span></tt></p>
<dl class="function">
<dt id="utils.checkVersion">
<tt class="descclassname">utils.</tt><tt class="descname">checkVersion</tt><big>(</big><em>name</em>, <em>version</em>, <em>external=False</em><big>)</big><a class="headerlink" href="#utils.checkVersion" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks a version of a program/module.</p>
<p>name is either a module or an external program whose availability has
been registered.
Default is to treat name as a module. Add external=True for a program.</p>
<p>Return value is -1, 0 or 1, depending on a version found that is
&lt;, == or &gt; than the requested values.
This should normally understand version numbers in the format 2.10.1
Returns -2 if no version found.</p>
</dd></dl>

<dl class="function">
<dt id="utils.hasModule">
<tt class="descclassname">utils.</tt><tt class="descname">hasModule</tt><big>(</big><em>name</em>, <em>check=False</em><big>)</big><a class="headerlink" href="#utils.hasModule" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if we have the named module available.</p>
<p>Returns a nonzero (version) string if the module is available,
or an empty string if it is not.</p>
<p>By default, the module is only checked on the first call. 
The result is remembered in the the_version dict.
The optional argument check==True forces a new detection.</p>
</dd></dl>

<dl class="function">
<dt id="utils.hasExternal">
<tt class="descclassname">utils.</tt><tt class="descname">hasExternal</tt><big>(</big><em>name</em>, <em>force=False</em><big>)</big><a class="headerlink" href="#utils.hasExternal" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if we have the external command &#8216;name&#8217; available.</p>
<p>Returns a nonzero string if the command is available,
or an empty string if it is not.</p>
<p>The external command is only checked on the first call.
The result is remembered in the the_external dict.</p>
</dd></dl>

<dl class="function">
<dt id="utils.checkModule">
<tt class="descclassname">utils.</tt><tt class="descname">checkModule</tt><big>(</big><em>name=None</em><big>)</big><a class="headerlink" href="#utils.checkModule" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the named Python module is available, and record its version.</p>
<p>The version string is returned, empty if the module could not be loaded.
The (name,version) pair is also inserted into the the_version dict.</p>
</dd></dl>

<dl class="function">
<dt id="utils.checkExternal">
<tt class="descclassname">utils.</tt><tt class="descname">checkExternal</tt><big>(</big><em>name=None</em>, <em>command=None</em>, <em>answer=None</em><big>)</big><a class="headerlink" href="#utils.checkExternal" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the named external command is available on the system.</p>
<p>name is the generic command name,
command is the command as it will be executed to check its operation,
answer is a regular expression to match positive answers from the command.
answer should contain at least one group. In case of a match, the
contents of the match will be stored in the the_external dict
with name as the key. If the result does not match the specified answer,
an empty value is inserted.</p>
<p>Usually, command will contain an option to display the version, and
the answer re contains a group to select the version string from
the result.</p>
<p>As a convenience, we provide a list of predeclared external commands,
that can be checked by their name alone.
If no name is given, all commands in that list are checked, and no
value is returned.</p>
</dd></dl>

<dl class="function">
<dt id="utils.strNorm">
<tt class="descclassname">utils.</tt><tt class="descname">strNorm</tt><big>(</big><em>s</em><big>)</big><a class="headerlink" href="#utils.strNorm" title="Permalink to this definition">¶</a></dt>
<dd><p>Normalize a string.</p>
<p>Text normalization removes all &#8216;&amp;&#8217; characters and converts it to lower case.</p>
</dd></dl>

<dl class="function">
<dt id="utils.prefixFiles">
<tt class="descclassname">utils.</tt><tt class="descname">prefixFiles</tt><big>(</big><em>prefix</em>, <em>files</em><big>)</big><a class="headerlink" href="#utils.prefixFiles" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepend a prefix to a list of filenames.</p>
</dd></dl>

<dl class="function">
<dt id="utils.matchMany">
<tt class="descclassname">utils.</tt><tt class="descname">matchMany</tt><big>(</big><em>regexps</em>, <em>target</em><big>)</big><a class="headerlink" href="#utils.matchMany" title="Permalink to this definition">¶</a></dt>
<dd><p>Return multiple regular expression matches of the same target string.</p>
</dd></dl>

<dl class="function">
<dt id="utils.matchCount">
<tt class="descclassname">utils.</tt><tt class="descname">matchCount</tt><big>(</big><em>regexps</em>, <em>target</em><big>)</big><a class="headerlink" href="#utils.matchCount" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of matches of target to  regexps.</p>
</dd></dl>

<dl class="function">
<dt id="utils.matchAny">
<tt class="descclassname">utils.</tt><tt class="descname">matchAny</tt><big>(</big><em>regexps</em>, <em>target</em><big>)</big><a class="headerlink" href="#utils.matchAny" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether target matches any of the regular expressions.</p>
</dd></dl>

<dl class="function">
<dt id="utils.matchNone">
<tt class="descclassname">utils.</tt><tt class="descname">matchNone</tt><big>(</big><em>regexps</em>, <em>target</em><big>)</big><a class="headerlink" href="#utils.matchNone" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether targes matches none of the regular expressions.</p>
</dd></dl>

<dl class="function">
<dt id="utils.matchAll">
<tt class="descclassname">utils.</tt><tt class="descname">matchAll</tt><big>(</big><em>regexps</em>, <em>target</em><big>)</big><a class="headerlink" href="#utils.matchAll" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether targets matches all of the regular expressions.</p>
</dd></dl>

<dl class="function">
<dt id="utils.listTree">
<tt class="descclassname">utils.</tt><tt class="descname">listTree</tt><big>(</big><em>path</em>, <em>listdirs=True</em>, <em>topdown=True</em>, <em>sorted=False</em>, <em>excludedirs=</em><span class="optional">[</span><span class="optional">]</span>, <em>excludefiles=</em><span class="optional">[</span><span class="optional">]</span>, <em>includedirs=</em><span class="optional">[</span><span class="optional">]</span>, <em>includefiles=</em><span class="optional">[</span><span class="optional">]</span><big>)</big><a class="headerlink" href="#utils.listTree" title="Permalink to this definition">¶</a></dt>
<dd><p>List all files in path.</p>
<p>If <tt class="docutils literal"><span class="pre">dirs==False</span></tt>, directories are not listed.
By default the tree is listed top down and entries in the same directory
are unsorted.</p>
<p><cite>exludedirs</cite> and <cite>excludefiles</cite> are lists of regular expressions with
dirnames, resp. filenames to exclude from the result.</p>
<p><cite>includedirs</cite> and <cite>includefiles</cite> can be given to include only the
directories, resp. files matching any of those patterns.</p>
<p>Note that &#8216;excludedirs&#8217; and &#8216;includedirs&#8217; force top down handling.</p>
</dd></dl>

<dl class="function">
<dt id="utils.removeTree">
<tt class="descclassname">utils.</tt><tt class="descname">removeTree</tt><big>(</big><em>path</em>, <em>top=True</em><big>)</big><a class="headerlink" href="#utils.removeTree" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all files below path. If top==True, also path is removed.</p>
</dd></dl>

<dl class="function">
<dt id="utils.pyformexFiles">
<tt class="descclassname">utils.</tt><tt class="descname">pyformexFiles</tt><big>(</big><em>relative=False</em><big>)</big><a class="headerlink" href="#utils.pyformexFiles" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of the pyformex source .py files.</p>
</dd></dl>

<dl class="function">
<dt id="utils.setSaneLocale">
<tt class="descclassname">utils.</tt><tt class="descname">setSaneLocale</tt><big>(</big><em>localestring=''</em><big>)</big><a class="headerlink" href="#utils.setSaneLocale" title="Permalink to this definition">¶</a></dt>
<dd><p>Set a sane local configuration for LC_NUMERIC.</p>
<p><cite>localestring</cite> is the locale string to be set, e.g. &#8216;en_US.UTF-8&#8217;</p>
<p>This will change the <tt class="docutils literal"><span class="pre">LC_ALL</span></tt> setting to the specified string,
and set the <tt class="docutils literal"><span class="pre">LC_NUMBERIC</span></tt> to &#8216;C&#8217;.</p>
<p>Changing the LC_NUMERIC setting is a very bad idea! It makes floating
point values to be read or written with a comma instead of a the decimal
point. Of course this makes input and output files completely incompatible.
You will often not be able to process these files any further and
create a lot of troubles for yourself and other people if you use an
LC_NUMERIC setting different from the standard.</p>
<p>Because we do not want to help you shoot yourself in the foot, this
function always sets <tt class="docutils literal"><span class="pre">LC_NUMERIC</span></tt> back to a sane value and we
call this function when pyFormex is starting up.</p>
</dd></dl>

<dl class="function">
<dt id="utils.all_image_extensions">
<tt class="descclassname">utils.</tt><tt class="descname">all_image_extensions</tt><big>(</big><big>)</big><a class="headerlink" href="#utils.all_image_extensions" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list with all known image extensions.</p>
</dd></dl>

<dl class="function">
<dt id="utils.fileDescription">
<tt class="descclassname">utils.</tt><tt class="descname">fileDescription</tt><big>(</big><em>ftype</em><big>)</big><a class="headerlink" href="#utils.fileDescription" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a description of the specified file type.</p>
<p>The description of known types are listed in a dict file_description.
If the type is unknown, the returned string has the form
<tt class="docutils literal"><span class="pre">TYPE</span> <span class="pre">files</span> <span class="pre">(*.type)</span></tt></p>
</dd></dl>

<dl class="function">
<dt id="utils.fileType">
<tt class="descclassname">utils.</tt><tt class="descname">fileType</tt><big>(</big><em>ftype</em><big>)</big><a class="headerlink" href="#utils.fileType" title="Permalink to this definition">¶</a></dt>
<dd><p>Normalize a filetype string.</p>
<p>The string is converted to lower case and a leading dot is removed.
This makes it fit for use with a filename extension.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">fileType</span><span class="p">(</span><span class="s">&#39;pdf&#39;</span><span class="p">)</span>
<span class="go">&#39;pdf&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fileType</span><span class="p">(</span><span class="s">&#39;.pdf&#39;</span><span class="p">)</span>
<span class="go">&#39;pdf&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fileType</span><span class="p">(</span><span class="s">&#39;PDF&#39;</span><span class="p">)</span>
<span class="go">&#39;pdf&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fileType</span><span class="p">(</span><span class="s">&#39;.PDF&#39;</span><span class="p">)</span>
<span class="go">&#39;pdf&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utils.fileTypeFromExt">
<tt class="descclassname">utils.</tt><tt class="descname">fileTypeFromExt</tt><big>(</big><em>fname</em><big>)</big><a class="headerlink" href="#utils.fileTypeFromExt" title="Permalink to this definition">¶</a></dt>
<dd><p>Derive the file type from the file name.</p>
<p>The derived file type is the file extension part in lower case and
without the leading dot.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">fileTypeFromExt</span><span class="p">(</span><span class="s">&#39;pyformex.pdf&#39;</span><span class="p">)</span>
<span class="go">&#39;pdf&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fileTypeFromExt</span><span class="p">(</span><span class="s">&#39;.pyformexrc&#39;</span><span class="p">)</span>
<span class="go">&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fileTypeFromExt</span><span class="p">(</span><span class="s">&#39;pyformex&#39;</span><span class="p">)</span>
<span class="go">&#39;&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utils.findIcon">
<tt class="descclassname">utils.</tt><tt class="descname">findIcon</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#utils.findIcon" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the file name for an icon with given name.</p>
<p>If no icon file is found, returns the question mark icon.</p>
</dd></dl>

<dl class="function">
<dt id="utils.projectName">
<tt class="descclassname">utils.</tt><tt class="descname">projectName</tt><big>(</big><em>fn</em><big>)</big><a class="headerlink" href="#utils.projectName" title="Permalink to this definition">¶</a></dt>
<dd><p>Derive a project name from a file name.</p>
<p>The project name is the basename f the file without the extension.</p>
</dd></dl>

<dl class="function">
<dt id="utils.mtime">
<tt class="descclassname">utils.</tt><tt class="descname">mtime</tt><big>(</big><em>fn</em><big>)</big><a class="headerlink" href="#utils.mtime" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the (UNIX) time of last change of file fn.</p>
</dd></dl>

<dl class="function">
<dt id="utils.timeEval">
<tt class="descclassname">utils.</tt><tt class="descname">timeEval</tt><big>(</big><em>s</em>, <em>glob=None</em><big>)</big><a class="headerlink" href="#utils.timeEval" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the time needed for evaluating a string.</p>
<p>s is a string with a valid Python instructions.
The string is evaluated using Python&#8217;s eval() and the difference
in seconds between the current time before and after the evaluation
is printed. The result of the evaluation is returned.</p>
<p>This is a simple method to measure the time spent in some operation.
It should not be used for microlevel instructions though, because
the overhead of the time calls. Use Python&#8217;s timeit module to measure
microlevel execution time.</p>
</dd></dl>

<dl class="function">
<dt id="utils.countLines">
<tt class="descclassname">utils.</tt><tt class="descname">countLines</tt><big>(</big><em>fn</em><big>)</big><a class="headerlink" href="#utils.countLines" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of lines in a text file.</p>
</dd></dl>

<dl class="function">
<dt id="utils.runCommand">
<tt class="descclassname">utils.</tt><tt class="descname">runCommand</tt><big>(</big><em>cmd</em>, <em>RaiseError=True</em>, <em>quiet=False</em><big>)</big><a class="headerlink" href="#utils.runCommand" title="Permalink to this definition">¶</a></dt>
<dd><p>Run a command and raise error if exited with error.</p>
<p>cmd is a string with the command to be run. The command is run
in the background, waiting for the result. If no error occurs,
the exit status and stdout are returned.
Else an error is raised by default.</p>
</dd></dl>

<dl class="function">
<dt id="utils.spawn">
<tt class="descclassname">utils.</tt><tt class="descname">spawn</tt><big>(</big><em>cmd</em><big>)</big><a class="headerlink" href="#utils.spawn" title="Permalink to this definition">¶</a></dt>
<dd><p>Spawn a child process.</p>
</dd></dl>

<dl class="function">
<dt id="utils.killProcesses">
<tt class="descclassname">utils.</tt><tt class="descname">killProcesses</tt><big>(</big><em>pids</em>, <em>signal</em><big>)</big><a class="headerlink" href="#utils.killProcesses" title="Permalink to this definition">¶</a></dt>
<dd><p>Send the specified signal to the processes in list</p>
</dd></dl>

<dl class="function">
<dt id="utils.changeExt">
<tt class="descclassname">utils.</tt><tt class="descname">changeExt</tt><big>(</big><em>fn</em>, <em>ext</em><big>)</big><a class="headerlink" href="#utils.changeExt" title="Permalink to this definition">¶</a></dt>
<dd><p>Change the extension of a file name.</p>
<p>The extension is the minimal trailing part of the filename starting
with a &#8216;.&#8217;. If the filename has no &#8216;.&#8217;, the extension will be appended.
If the given extension does not start with a dot, one is prepended.</p>
</dd></dl>

<dl class="function">
<dt id="utils.tildeExpand">
<tt class="descclassname">utils.</tt><tt class="descname">tildeExpand</tt><big>(</big><em>fn</em><big>)</big><a class="headerlink" href="#utils.tildeExpand" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform tilde expansion on a filename.</p>
<p>Bash, the most used command shell in Linux, expands a &#8216;~&#8217; in arguments
to the users home direction.
This function can be used to do the same for strings that did not receive
the bash tilde expansion, such as strings in the configuration file.</p>
</dd></dl>

<dl class="function">
<dt id="utils.userName">
<tt class="descclassname">utils.</tt><tt class="descname">userName</tt><big>(</big><big>)</big><a class="headerlink" href="#utils.userName" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the name of the user.</p>
</dd></dl>

<dl class="function">
<dt id="utils.is_pyFormex">
<tt class="descclassname">utils.</tt><tt class="descname">is_pyFormex</tt><big>(</big><em>filename</em><big>)</big><a class="headerlink" href="#utils.is_pyFormex" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks whether a file is a pyFormex script.</p>
<p>A script is considered to be a pyFormex script if its first line
starts with &#8216;#!&#8217; and contains the substring &#8216;pyformex&#8217;
A file is considered to be a pyFormex script if its name ends in &#8216;.py&#8217;
and the first line of the file contains the substring &#8216;pyformex&#8217;.
Typically, a pyFormex script starts with a line:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c">#!/usr/bin/pyformex</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utils.splitEndDigits">
<tt class="descclassname">utils.</tt><tt class="descname">splitEndDigits</tt><big>(</big><em>s</em><big>)</big><a class="headerlink" href="#utils.splitEndDigits" title="Permalink to this definition">¶</a></dt>
<dd><p>Split a string in any prefix and a numerical end sequence.</p>
<p>A string like &#8216;abc-0123&#8217; will be split in &#8216;abc-&#8216; and &#8216;0123&#8217;.
Any of both can be empty.</p>
</dd></dl>

<dl class="function">
<dt id="utils.splitStartDigits">
<tt class="descclassname">utils.</tt><tt class="descname">splitStartDigits</tt><big>(</big><em>s</em><big>)</big><a class="headerlink" href="#utils.splitStartDigits" title="Permalink to this definition">¶</a></dt>
<dd><p>Split a string in a numerical sequence and any suffix.</p>
<p>A string like &#8216;0123-abc&#8217; will be split in &#8216;0123&#8217; and &#8216;-abc&#8217;.
Any of both can be empty.</p>
</dd></dl>

<dl class="function">
<dt id="utils.prefixDict">
<tt class="descclassname">utils.</tt><tt class="descname">prefixDict</tt><big>(</big><em>d</em>, <em>prefix=''</em><big>)</big><a class="headerlink" href="#utils.prefixDict" title="Permalink to this definition">¶</a></dt>
<dd><p>Prefix all the keys of a dict with the given prefix.</p>
<ul class="simple">
<li><cite>d</cite>: a dict where all the keys are strings.</li>
<li><cite>prefix</cite>: a string</li>
</ul>
<p>The return value is a dict with all the items of d, but where the
keys have been prefixed with the given string.</p>
</dd></dl>

<dl class="function">
<dt id="utils.subDict">
<tt class="descclassname">utils.</tt><tt class="descname">subDict</tt><big>(</big><em>d</em>, <em>prefix=''</em>, <em>strip=True</em><big>)</big><a class="headerlink" href="#utils.subDict" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a dict with the items whose key starts with prefix.</p>
<ul class="simple">
<li><cite>d</cite>: a dict where all the keys are strings.</li>
<li><cite>prefix</cite>: a string</li>
<li><cite>strip</cite>: if True (default), the prefix is stripped from the keys.</li>
</ul>
<p>The return value is a dict with all the items from d whose key starts
with prefix. The keys in the returned dict will have the prefix
stripped off, unless strip=False is specified.</p>
</dd></dl>

<dl class="function">
<dt id="utils.selectDict">
<tt class="descclassname">utils.</tt><tt class="descname">selectDict</tt><big>(</big><em>d</em>, <em>keys</em><big>)</big><a class="headerlink" href="#utils.selectDict" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a dict with the items whose key is in keys.</p>
<ul class="simple">
<li><cite>d</cite>: a dict where all the keys are strings.</li>
<li><cite>keys</cite>: a set of key values, can be a list or another dict.</li>
</ul>
<p>The return value is a dict with all the items from d whose key
is in keys.
See <a class="reference internal" href="#utils.removeDict" title="utils.removeDict"><tt class="xref py py-func docutils literal"><span class="pre">removeDict()</span></tt></a> for the complementary operation.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">([(</span><span class="n">c</span><span class="p">,</span><span class="n">c</span><span class="o">*</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">selectDict</span><span class="p">(</span><span class="n">d</span><span class="p">,[</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="go">{0: 0, 1: 1, 4: 16}</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utils.removeDict">
<tt class="descclassname">utils.</tt><tt class="descname">removeDict</tt><big>(</big><em>d</em>, <em>keys</em><big>)</big><a class="headerlink" href="#utils.removeDict" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a set of keys from a dict.</p>
<ul class="simple">
<li><cite>d</cite>: a dict</li>
<li><cite>keys</cite>: a set of key values</li>
</ul>
<p>The return value is a dict with all the items from <cite>d</cite> whose key
is not in <cite>keys</cite>.
This is the complementary operation of selectDict.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">([(</span><span class="n">c</span><span class="p">,</span><span class="n">c</span><span class="o">*</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">removeDict</span><span class="p">(</span><span class="n">d</span><span class="p">,[</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
<span class="go">{1: 1, 2: 4, 3: 9, 5: 25}</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="utils.refreshDict">
<tt class="descclassname">utils.</tt><tt class="descname">refreshDict</tt><big>(</big><em>d</em>, <em>src</em><big>)</big><a class="headerlink" href="#utils.refreshDict" title="Permalink to this definition">¶</a></dt>
<dd><p>Refresh a dict with values from another dict.</p>
<p>The values in the dict d are update with those in src.
Unlike the dict.update method, this will only update existing keys
but not add new keys.</p>
</dd></dl>

<dl class="function">
<dt id="utils.stuur">
<tt class="descclassname">utils.</tt><tt class="descname">stuur</tt><big>(</big><em>x</em>, <em>xval</em>, <em>yval</em>, <em>exp=2.5</em><big>)</big><a class="headerlink" href="#utils.stuur" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a (non)linear response on the input x.</p>
<p>xval and yval should be lists of 3 values:
<tt class="docutils literal"><span class="pre">[xmin,x0,xmax],</span> <span class="pre">[ymin,y0,ymax]</span></tt>.
Together with the exponent exp, they define the response curve
as function of x. With an exponent &gt; 0, the variation will be
slow in the neighbourhood of (x0,y0).
For values x &lt; xmin or x &gt; xmax, the limit value ymin or ymax
is returned.</p>
</dd></dl>

<dl class="function">
<dt id="utils.interrogate">
<tt class="descclassname">utils.</tt><tt class="descname">interrogate</tt><big>(</big><em>item</em><big>)</big><a class="headerlink" href="#utils.interrogate" title="Permalink to this definition">¶</a></dt>
<dd><p>Print useful information about item.</p>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="elements.html" title="12. elements — Definition of elements."
             >next</a> |</li>
        <li class="right" >
          <a href="project.html" title="10. project — project.py"
             >previous</a> |</li>
        <li><a href="../index.html">pyFormex v0.8.6 documentation</a> &gt;</li>
          <li><a href="../refman.html" >pyFormex reference manual</a> &gt;</li> 
      </ul>
    </div>
    <div class="footer">
    <span class="left">
        &copy; Copyright 2004-2011, Benedict Verhegghe.
    </span>
      Last updated on Jan 16, 2012.
    <span class="right">
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.8.
    </span>
    </div>
  </body>
</html>
