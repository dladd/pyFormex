


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<!-- 
##
##  This file is part of the pyFormex project.
##  pyFormex is a tool for generating, manipulating and transforming 3D
##  geometrical models by sequences of mathematical operations.
##  Home page: http://pyformex.org
##  Project page:  http://savannah.nongnu.org/projects/pyformex/
##  Copyright (C) Benedict Verhegghe (benedict.verhegghe@ugent.be) 
##  Distributed under the GNU General Public License version 3 or later.
##
##
##  This program is free software: you can redistribute it and/or modify
##  it under the terms of the GNU General Public License as published by
##  the Free Software Foundation, either version 3 of the License, or
##  (at your option) any later version.
##
##  This program is distributed in the hope that it will be useful,
##  but WITHOUT ANY WARRANTY; without even the implied warranty of
##  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
##  GNU General Public License for more details.
##
##  You should have received a copy of the GNU General Public License
##  along with this program.  If not, see http://www.gnu.org/licenses/.
##
-->

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>13. project — project.py &mdash; pyFormex v0.8.8 documentation</title>

    <link rel="stylesheet" href="../_static/pyformex.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.8.8',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="pyFormex v0.8.8 documentation" href="../index.html" />
    <link rel="up" title="pyFormex reference manual" href="../refman.html" />
    <link rel="next" title="14. utils — A collection of miscellaneous utility functions." href="utils.html" />
    <link rel="prev" title="12. simple — Predefined geometries with a simple shape." href="simple.html" />
<link rel="icon" type="image/png" href="_static/pyformex_fav.png" />

  </head>
  <body>

<div class="header">
  <a href="http://pyformex.org">
  <img src="http://www.nongnu.org/pyformex/_static/scallop_dome_small.png" alt="scallop dome" border="0" hspace="20" vspace="12" align="left" />
  <img src="http://www.nongnu.org/pyformex/_static/pyformex-logo-2.png" alt="pyformex logo" border="0" hspace="10" vspace="8" align="left" />
  </a>
</div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="utils.html" title="14. utils — A collection of miscellaneous utility functions."
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="simple.html" title="12. simple — Predefined geometries with a simple shape."
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">pyFormex v0.8.8 documentation</a> &gt;</li>
          <li><a href="../refman.html" accesskey="U">pyFormex reference manual</a> &gt;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<div align="center">

<form action="https://www.paypal.com/cgi-bin/webscr" method="post">
<input type="hidden" name="cmd" value="_s-xclick"/>
<input type="hidden" name="hosted_button_id" value="P7J4AM4QULB4Q"/>
<input type="image" src="https://www.paypal.com/en_US/BE/i/btn/btn_donateCC_LG.gif" name="submit" alt="PayPal - The safer, easier way to pay online!"/>
<img alt="" border="0" src="https://www.paypal.com/nl_NL/i/scr/pixel.gif" width="1" height="1"/>
</form>

</div>
   

  <h4>Previous topic</h4>
  <p class="topless"><a href="simple.html"
                        title="previous chapter">12. <tt class="docutils literal docutils literal"><span class="pre">simple</span></tt> &#8212; Predefined geometries with a simple shape.</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="utils.html"
                        title="next chapter">14. <tt class="docutils literal docutils literal"><span class="pre">utils</span></tt> &#8212; A collection of miscellaneous utility functions.</a></p>
  
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>

<div align="center">
  <p>
  <a href="http://www.fsf.org/register_form?referrer=8491"><img src="http://www.nongnu.org/pyformex/_static/fsf-member8491.png" alt="[FSF Associate Member]" width="89" height="31"  /></a>
  </p>
  <p>
    <a href="http://validator.w3.org/check?uri=referer"><img
      src="http://www.w3.org/Icons/valid-xhtml10" alt="Valid XHTML 1.0 Transitional" height="31" width="88" /></a>
  </p>
</div>

        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-project">
<span id="project-project-py"></span><span id="sec-ref-project"></span><h1>13. <a class="reference internal" href="#module-project" title="project: project.py"><tt class="xref py py-mod docutils literal"><span class="pre">project</span></tt></a> &#8212; project.py<a class="headerlink" href="#module-project" title="Permalink to this headline">¶</a></h1>
<p>Functions for managing a project in pyFormex.</p>
<p><tt class="docutils literal"><span class="pre">Classes</span> <span class="pre">defined</span> <span class="pre">in</span> <span class="pre">module</span> <span class="pre">project</span></tt></p>
<dl class="class">
<dt id="project.Project">
<em class="property">class </em><tt class="descclassname">project.</tt><tt class="descname">Project</tt><big>(</big><em>filename=None</em>, <em>access='wr'</em>, <em>convert=True</em>, <em>signature='pyFormex 0.8.8 (Rev. 2537:2541M)'</em>, <em>compression=5</em>, <em>binary=True</em>, <em>data={}</em>, <em>**kargs</em><big>)</big><a class="headerlink" href="#project.Project" title="Permalink to this definition">¶</a></dt>
<dd><p>Project: a persistent storage of pyFormex data.</p>
<p>A pyFormex Project is a regular Python dict that can contain named data
of any kind, and can be saved to a file to create persistence over
different pyFormex sessions.</p>
<p>The <a class="reference internal" href="#project.Project" title="project.Project"><tt class="xref py py-class docutils literal"><span class="pre">Project</span></tt></a> class is used by pyFormex for the <tt class="docutils literal"><span class="pre">pyformex.PF</span></tt>
global variable that collects variables exported from pyFormex scripts.
While projects are mostly handled through the pyFormex GUI, notably the
<em>File</em> menu, the user may also create and handle his own Project objects
from a script.</p>
<p>Because of the way pyFormex Projects are written to file,
there may be problems when trying to read a project file that was
created with another pyFormex version. Problems may occur if the
project contains data of a class whose implementation has changed,
or whose definition has been relocated. Our policy is to provide
backwards compatibility: newer versions of pyFormex will normally
read the older project formats. Saving is always done in the
newest format, and these can generally not be read back by older
program versions (unless you are prepared to do some hacking).</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>Compatibility issues.</p>
<p>Occasionally you may run into problems when reading back an
old project file, especially when it was created by an unreleased
(development) version of pyFormex. Because pyFormex is evolving fast,
we can not test the full compatibility with every revision
You can file a support request on the pyFormex <a class="reference external" href="http://savannah.nongnu.org/support/?group=pyformex">support tracker</a>.
and we will try to add the required conversion code to
pyFormex.</p>
<p>The project files are mainly intended as a means to easily save lots
of data of any kind and to restore them in the same session or a later
session, to pass them to another user (with the same or later pyFormex
version), to store them over a medium time period. Occasionally opening
and saving back your project files with newer pyFormex versions may help
to avoid read-back problems over longer time.</p>
<p class="last">For a problemless long time storage of Geometry type objects you may
consider to write them to a pyFormex Geometry file (.pgf) instead, since
this uses a stable ascii based format. It can (currently) not deal
with other data types however.</p>
</div>
<p>Parameters:</p>
<ul>
<li><p class="first"><cite>filename</cite>: the name of the file where the Project data will be saved.
If the file exists (and <cite>access</cite> is not <cite>w</cite>), it should be a previously
saved Project and an attempt will be made to load the data from this
file into the Project.
If this fails, an error is raised.</p>
<p>If the file exists and <cite>access</cite> is <cite>w</cite>, it will be overwritten,
destroying any previous contents.</p>
<p>If no filename is specified, a temporary file will be created when
the Project is saved for the first time. The file with not be
automatically deleted. The generated name can be retrieved from the
filename attribute.</p>
</li>
<li><p class="first"><cite>access</cite>: One of &#8216;wr&#8217; (default), &#8216;rw&#8217;, &#8216;w&#8217; or &#8216;r&#8217;.
If the string contains an &#8216;r&#8217; the data from an existing file will be
read into the dict. If the string starts with an &#8216;r&#8217;, the file should
exist. If the string contains a &#8216;w&#8217;, the data can be written back to
the file. The &#8216;r&#8217; access mode is thus a read-only mode.</p>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="29%" />
<col width="23%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head"><p class="first last">access</p>
</th>
<th class="head"><p class="first last">File must exist</p>
</th>
<th class="head"><p class="first last">File is read</p>
</th>
<th class="head"><p class="first last">File can be written</p>
</th>
</tr>
</thead>
<tbody valign="top">
<tr><td><p class="first last">r</p>
</td>
<td><p class="first last">yes</p>
</td>
<td><p class="first last">yes</p>
</td>
<td><p class="first last">no</p>
</td>
</tr>
<tr><td><p class="first last">rw</p>
</td>
<td><p class="first last">yes</p>
</td>
<td><p class="first last">yes</p>
</td>
<td><p class="first last">yes</p>
</td>
</tr>
<tr><td><p class="first last">wr</p>
</td>
<td><p class="first last">no</p>
</td>
<td><p class="first last">if it exists</p>
</td>
<td><p class="first last">yes</p>
</td>
</tr>
<tr><td><p class="first last">w</p>
</td>
<td><p class="first last">no</p>
</td>
<td><p class="first last">no</p>
</td>
<td><p class="first last">yes</p>
</td>
</tr>
</tbody>
</table>
</li>
<li><p class="first"><cite>convert</cite>: if True (default), and the file is opened for reading, an
attempt is made to open old projects in a compatibility mode, doing the
necessary conversions to new data formats. If convert is set False,
only the latest format can be read and older formats will generate
an error.</p>
</li>
<li><p class="first"><cite>signature</cite>: A text that will be written in the header record of the
file. This can e.g. be used to record format version info.</p>
</li>
<li><p class="first"><cite>compression</cite>: An integer from 0 to 9: compression level. For large
data sets, compression leads to much smaller files. 0 is no compression,
9 is maximal compression. The default is 4.</p>
</li>
<li><p class="first"><cite>binary</cite>: if False and no compression is used, storage is done
in an ASCII format, allowing to edit the file. Otherwise, storage
uses a binary format. Using binary=False is deprecated.</p>
</li>
<li><p class="first"><cite>data</cite>: a dict-like object to initialize the Project contents. These data
may override values read from the file.</p>
</li>
</ul>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">b</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="n">c</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="n">d</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span><span class="n">e</span><span class="o">=</span><span class="p">{</span><span class="s">&#39;f&#39;</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span><span class="s">&#39;g&#39;</span><span class="p">:</span><span class="mi">5</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">tempfile</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">mktemp</span><span class="p">(</span><span class="s">&#39;.pyf&#39;</span><span class="p">,</span><span class="s">&#39;w&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">P</span> <span class="o">=</span> <span class="n">Project</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">P</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="nb">dict</span><span class="o">.</span><span class="n">__str__</span><span class="p">(</span><span class="n">P</span><span class="p">)</span>
<span class="go">{&#39;a&#39;: 1, &#39;c&#39;: 3, &#39;b&#39;: 2, &#39;e&#39;: {&#39;g&#39;: 5, &#39;f&#39;: 4}, &#39;d&#39;: [1, 2, 3]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">P</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">quiet</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">P</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="nb">dict</span><span class="o">.</span><span class="n">__str__</span><span class="p">(</span><span class="n">P</span><span class="p">)</span>
<span class="go">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">P</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">quiet</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="nb">dict</span><span class="o">.</span><span class="n">__str__</span><span class="p">(</span><span class="n">P</span><span class="p">)</span>
<span class="go">{&#39;a&#39;: 1, &#39;c&#39;: 3, &#39;b&#39;: 2, &#39;e&#39;: {&#39;g&#39;: 5, &#39;f&#39;: 4}, &#39;d&#39;: [1, 2, 3]}</span>
</pre></div>
</div>
<dl class="method">
<dt id="project.Project.header_data">
<tt class="descname">header_data</tt><big>(</big><big>)</big><a class="headerlink" href="#project.Project.header_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct the data to be saved in the header.</p>
</dd></dl>

<dl class="method">
<dt id="project.Project.save">
<tt class="descname">save</tt><big>(</big><em>quiet=False</em><big>)</big><a class="headerlink" href="#project.Project.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the project to file.</p>
</dd></dl>

<dl class="method">
<dt id="project.Project.readHeader">
<tt class="descname">readHeader</tt><big>(</big><em>quiet=False</em><big>)</big><a class="headerlink" href="#project.Project.readHeader" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the header from a project file.</p>
<p>Tries to read the header from different legacy formats,
and if succesfull, adjusts the project attributes according
to the values in the header.
Returns the open file if succesfull.</p>
</dd></dl>

<dl class="method">
<dt id="project.Project.load">
<tt class="descname">load</tt><big>(</big><em>try_resolve=False</em>, <em>quiet=False</em><big>)</big><a class="headerlink" href="#project.Project.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a project from file.</p>
<p>The loaded definitions will update the current project.</p>
</dd></dl>

<dl class="method">
<dt id="project.Project.convert">
<tt class="descname">convert</tt><big>(</big><em>filename=None</em><big>)</big><a class="headerlink" href="#project.Project.convert" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert an old format project file.</p>
<p>The project file is read, and if successfull, is immediately
saved. By default, this will overwrite the original file.
If a filename is specified, the converted data are saved to
that file.
In both cases, access is set to &#8216;wr&#8217;, so the tha saved data can
be read back immediately.</p>
</dd></dl>

<dl class="method">
<dt id="project.Project.uncompress">
<tt class="descname">uncompress</tt><big>(</big><big>)</big><a class="headerlink" href="#project.Project.uncompress" title="Permalink to this definition">¶</a></dt>
<dd><p>Uncompress a compressed project file.</p>
<p>The project file is read, and if successfull, is written
back in uncompressed format. This allows to make conversions
of the data inside.</p>
</dd></dl>

<dl class="method">
<dt id="project.Project.delete">
<tt class="descname">delete</tt><big>(</big><big>)</big><a class="headerlink" href="#project.Project.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Unrecoverably delete the project file.</p>
</dd></dl>

<dl class="method">
<dt id="project.Project.pop">
<tt class="descname">pop</tt><big>(</big><em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#project.Project.pop" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper function for a class method.</p>
</dd></dl>

<dl class="method">
<dt id="project.Project.popitem">
<tt class="descname">popitem</tt><big>(</big><em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#project.Project.popitem" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper function for a class method.</p>
</dd></dl>

<dl class="method">
<dt id="project.Project.setdefault">
<tt class="descname">setdefault</tt><big>(</big><em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#project.Project.setdefault" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper function for a class method.</p>
</dd></dl>

<dl class="method">
<dt id="project.Project.update">
<tt class="descname">update</tt><big>(</big><em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#project.Project.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper function for a class method.</p>
</dd></dl>

</dd></dl>

<p><tt class="docutils literal"><span class="pre">Functions</span> <span class="pre">defined</span> <span class="pre">in</span> <span class="pre">module</span> <span class="pre">project</span></tt></p>
<dl class="function">
<dt id="project.find_global">
<tt class="descclassname">project.</tt><tt class="descname">find_global</tt><big>(</big><em>module</em>, <em>name</em><big>)</big><a class="headerlink" href="#project.find_global" title="Permalink to this definition">¶</a></dt>
<dd><p>Override the import path of some classes</p>
</dd></dl>

<dl class="function">
<dt id="project.pickle_load">
<tt class="descclassname">project.</tt><tt class="descname">pickle_load</tt><big>(</big><em>f</em>, <em>try_resolve=True</em><big>)</big><a class="headerlink" href="#project.pickle_load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load data from pickle file f.</p>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="utils.html" title="14. utils — A collection of miscellaneous utility functions."
             >next</a> |</li>
        <li class="right" >
          <a href="simple.html" title="12. simple — Predefined geometries with a simple shape."
             >previous</a> |</li>
        <li><a href="../index.html">pyFormex v0.8.8 documentation</a> &gt;</li>
          <li><a href="../refman.html" >pyFormex reference manual</a> &gt;</li> 
      </ul>
    </div>
    <div class="footer">
    <span class="left">
        &copy; Copyright 2004-2012, Benedict Verhegghe.
    </span>
      Last updated on Nov 05, 2012.
    <span class="right">
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.8.
    </span>
    </div>
  </body>
</html>
